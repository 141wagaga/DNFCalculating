from PublicReference.base import *

class 极诣·剑魂主动技能(主动技能):
    hit数 = 0  #太刀时所需参数，计算期望刺伤

    武器CD = {'短剑':1.0, '光剑':0.9, '巨剑':1.1, '钝器':1.05, '太刀':0.95}
    
    def 等效CD(self, 武器类型):
        return round(self.CD / self.恢复  * self.武器CD[武器类型], 1)

    def 额外刺伤层数(self, 武器类型):
        return 0

    def 穿云刺数量(self, 武器类型):
        return 0

class 极诣·剑魂流系技能(主动技能):
    hit数 = 0

    def 额外刺伤层数(self, 武器类型):
        return 0

    def 穿云刺数量(self, 武器类型):
        return 0

class 极诣·剑魂技能0(被动技能):
    名称 = '基础精通'
    倍率 = 1.0
    所在等级 = 1
    等级上限 = 200
    基础等级 = 100
    关联技能 = ['里鬼剑术','空中连斩']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(self.倍率 * (0.463 + 0.089 * self.等级), 5)

class 极诣·剑魂技能1(极诣·剑魂主动技能):
    hit数 = 8
    名称 = '里鬼剑术'
    备注 = '(一轮，TP为基础精通)'
    所在等级 = 15
    等级上限 = 11
    基础等级 = 1
    基础 = 0.97
    成长 = 0.03
    CD = 1.0
    TP成长 = 0.1
    TP上限 = 3
    基础百分比 = {'短剑':1004.68, '光剑':890.19, '巨剑':1241.95, '钝器':1225.24, '太刀':1197.49}
    data = {'短剑':3, '光剑':3, '巨剑':2, '钝器':4, '太刀':4}
    #巨剑不蓄力441.19

    def 等效百分比(self, 武器类型):
        if self.等级 == 0:
            return 0
        else:
            return self.基础百分比[武器类型] * (self.基础 + self.成长 * self.等级) * (1 + self.TP成长 * self.TP等级) * self.倍率

    def 穿云刺数量(self, 武器类型):
        return self.data[武器类型]

class 极诣·剑魂技能2(被动技能):
    名称 = '武器奥义'
    所在等级 = 15
    等级上限 = 30
    基础等级 = 20
    关联技能 = ['无']

class 极诣·剑魂技能3(被动技能):
    名称 = '光剑掌握'
    所在等级 = 15
    等级上限 = 20
    基础等级 = 10
    关联技能 = ['无']
    冷却关联技能 = ['所有']

    def CD缩减倍率(self, 武器类型):
        if self.等级 == 0 or 武器类型 != '光剑':
            return 1.0
        else:
            return round(1.0 - 0.01 * self.等级, 5)

class 极诣·剑魂技能4(极诣·剑魂主动技能):
    名称 = '流心狂'
    所在等级 = 30
    等级上限 = 20
    基础等级 = 10
    是否有伤害 = 0
    关联技能 = ['流心刺','流心跃','流心升']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.20 + 0.02 * self.等级, 5)

class 极诣·剑魂技能5(被动技能):
    名称 = '无我剑气'
    所在等级 = 20
    等级上限 = 15
    基础等级 = 5

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.00 + 0.02 * self.等级, 5)

class 极诣·剑魂技能6(极诣·剑魂流系技能):
    名称 = '流心刺'
    所在等级 = 20
    等级上限 = 60
    基础等级 = 43
    数据 = [0, 1111.0, 1223.0, 1336.0, 1449.0, 1562.0, 1675.0, 1787.0, 1900.0, 2014.0, 2127.0, 2239.0, 2352.0, 2465.0, 2578.0, 2691.0, 2803.0, 2916.0, 3029.0, 3142.0, 3254.0, 3367.0, 3479.0, 3592.0, 3705.0, 3818.0, 3931.0, 4044.0, 4156.0, 4268.0, 4381.0, 4494.0, 4607.0, 4720.0, 4833.0, 4946.0, 5057.0, 5170.0, 5283.0, 5396.0, 5509.0, 5622.0, 5734.0, 5846.0, 5959.0, 6072.0, 6185.0, 6298.0, 6411.0, 6523.0, 6636.0, 6748.0, 6861.0, 6974.0, 7087.0, 7200.0, 7312.0, 7425.0, 7538.0, 7650.0, 7763.0, 7876.0, 7988.0, 8101.0, 8214.0, 8327.0, 8440.0, 8552.0, 8665.0, 8777.0, 8890.0]
    TP成长 = 0.10
    TP上限 = 5
    CD = 5.0

    武器倍率 = {'短剑':2 + 1, '光剑':4 * 0.63, '巨剑':2 + 1, '钝器':2 * 1.25, '太刀':4 * 0.63}

    def 等效百分比(self, 武器类型):
        return self.武器倍率[武器类型] * self.数据[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率
    
    hit数 = 4
    刺伤几率 = [0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 37.0, 38.0, 39.0, 40.0, 41.0, 42.0, 43.0, 44.0, 45.0, 46.0, 47.0, 48.0, 49.0, 50.0, 51.0, 52.0, 53.0, 54.0, 55.0, 56.0, 57.0, 58.0, 59.0, 60.0, 61.0, 62.0, 63.0, 64.0, 65.0, 66.0, 67.0, 68.0, 69.0, 70.0, 71.0, 72.0, 73.0, 74.0, 75.0, 76.0, 77.0, 78.0, 79.0, 80.0, 81.0, 82.0, 83.0, 84.0, 85.0, 86.0, 87.0]
    可附加的刺伤数量 = [0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0]
    
    def 额外刺伤层数(self, 武器类型):
        return self.刺伤几率[self.等级] / 100 * self.可附加的刺伤数量[self.等级]

    def 穿云刺数量(self, 武器类型):
        return 2

class 极诣·剑魂技能7(极诣·剑魂流系技能):
    名称 = '流心跃'
    所在等级 = 25
    等级上限 = 60
    基础等级 = 41
    数据 = [0, 4079.0, 4493.0, 4907.0, 5321.0, 5735.0, 6149.0, 6563.0, 6977.0, 7391.0, 7805.0, 8219.0, 8633.0, 9047.0, 9461.0, 9876.0, 10290.0, 10704.0, 11117.0, 11531.0, 11945.0, 12359.0, 12773.0, 13187.0, 13601.0, 14015.0, 14429.0, 14841.0, 15256.0, 15670.0, 16083.0, 16498.0, 16912.0, 17325.0, 17740.0, 18154.0, 18566.0, 18981.0, 19394.0, 19809.0, 20224.0, 20637.0, 21051.0, 21466.0, 21879.0, 22292.0, 22707.0, 23120.0, 23534.0, 23948.0, 24362.0, 24776.0, 25190.0, 25604.0, 26018.0, 26432.0, 26846.0, 27260.0, 27676.0, 28089.0, 28503.0, 28918.0, 29330.0, 29744.0, 30158.0, 30572.0, 30986.0, 31400.0, 31814.0, 32228.0, 32642.0]
    TP成长 = 0.10
    TP上限 = 5
    CD = 7.0

    武器倍率 = {'短剑':2 * 0.5, '光剑': 1, '巨剑': 1, '钝器': 1, '太刀':2 * 0.5}

    #钝器冲击波占比 0.271783561  钝器空中释放20%加成

    def 等效百分比(self, 武器类型):
        return self.武器倍率[武器类型] * self.数据[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率

    hit数 = 2
    刺伤几率 = [0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 49.0, 50.0, 51.0, 52.0, 53.0, 54.0, 55.0, 56.0, 57.0, 58.0, 59.0, 60.0, 61.0, 62.0, 63.0, 64.0, 65.0, 66.0, 67.0, 68.0, 69.0, 70.0, 71.0, 72.0, 73.0, 74.0, 75.0, 76.0, 77.0, 78.0, 79.0, 80.0, 81.0, 82.0, 83.0, 84.0, 85.0, 86.0, 87.0, 88.0, 89.0, 90.0, 91.0, 92.0, 93.0, 94.0, 95.0, 96.0, 97.0, 98.0, 99.0, 100.0, 100.0, 100.0, 100.0, 100.0]
    可附加的刺伤数量 = [0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0]

    def 额外刺伤层数(self, 武器类型):
        return self.刺伤几率[self.等级] / 100 * self.可附加的刺伤数量[self.等级]

    def 穿云刺数量(self, 武器类型):
        return 2

class 极诣·剑魂技能8(极诣·剑魂流系技能):
    名称 = '流心升'
    所在等级 = 30
    等级上限 = 60
    基础等级 = 38
    数据 = [0, 2789.0, 3071.0, 3357.0, 3639.0, 3922.0, 4205.0, 4488.0, 4771.0, 5053.0, 5335.0, 5621.0, 5904.0, 6186.0, 6469.0, 6752.0, 7036.0, 7317.0, 7602.0, 7886.0, 8168.0, 8450.0, 8735.0, 9016.0, 9300.0, 9583.0, 9867.0, 10150.0, 10432.0, 10714.0, 10999.0, 11282.0, 11564.0, 11847.0, 12131.0, 12414.0, 12696.0, 12978.0, 13264.0, 13546.0, 13828.0, 14111.0, 14395.0, 14679.0, 14962.0, 15244.0, 15528.0, 15810.0, 16092.0, 16375.0, 16659.0, 16943.0, 17226.0, 17509.0, 17792.0, 18074.0, 18356.0, 18643.0, 18925.0, 19207.0, 19490.0, 19773.0, 20056.0, 20340.0, 20622.0, 20907.0, 21189.0, 21471.0, 21754.0, 22037.0, 22321.0]
    TP成长 = 0.10
    TP上限 = 5
    CD = 9.0

    武器倍率 = {'短剑':1 + 1.1, '光剑':3 * 0.8, '巨剑':1 + 1.1, '钝器':1 + 1.1, '太刀':3 * 0.8}

    def 等效百分比(self, 武器类型):
        return self.武器倍率[武器类型] * self.数据[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率

    hit数 = 3
    刺伤几率 = [0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 50.0, 55.0, 60.0, 65.0, 70.0, 75.0, 80.0, 85.0, 90.0, 95.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
    可附加的刺伤数量 = [0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0]

    def 额外刺伤层数(self, 武器类型):
        return self.刺伤几率[self.等级] / 100 * self.可附加的刺伤数量[self.等级]

    def 穿云刺数量(self, 武器类型):
        return 2

class 极诣·剑魂技能9(极诣·剑魂主动技能):
    名称 = '破军升龙击'
    所在等级 = 30
    等级上限 = 60
    基础等级 = 38
    data1 = [0, 1253.0, 1380.0, 1508.0, 1635.0, 1761.0, 1889.0, 2016.0, 2142.0, 2270.0, 2397.0, 2525.0, 2651.0, 2778.0, 2906.0, 3033.0, 3160.0, 3287.0, 3414.0, 3542.0, 3669.0, 3797.0, 3924.0, 4050.0, 4178.0, 4305.0, 4432.0, 4559.0, 4687.0, 4814.0, 4940.0, 5068.0, 5195.0, 5324.0, 5447.0, 5576.0, 5705.0, 5831.0, 5959.0, 6086.0, 6213.0, 6340.0, 6468.0, 6596.0, 6723.0, 6850.0, 6977.0, 7104.0, 7231.0, 7358.0, 7486.0, 7613.0, 7738.0, 7867.0, 7994.0, 8119.0, 8246.0, 8374.0, 8501.0, 8630.0, 8758.0, 8885.0, 9013.0, 9137.0, 9265.0, 9394.0, 9518.0, 9646.0, 9773.0, 9901.0, 10027.0]
    data2 = [0, 1935.0, 2130.0, 2325.0, 2522.0, 2719.0, 2915.0, 3109.0, 3306.0, 3503.0, 3699.0, 3897.0, 4093.0, 4287.0, 4486.0, 4681.0, 4877.0, 5074.0, 5270.0, 5465.0, 5661.0, 5858.0, 6054.0, 6251.0, 6445.0, 6644.0, 6839.0, 7036.0, 7233.0, 7429.0, 7623.0, 7820.0, 8017.0, 8213.0, 8410.0, 8604.0, 8801.0, 8998.0, 9195.0, 9391.0, 9588.0, 9784.0, 9979.0, 10175.0, 10372.0, 10568.0, 10764.0, 10959.0, 11156.0, 11352.0, 11550.0, 11747.0, 11940.0, 12137.0, 12334.0, 12531.0, 12727.0, 12921.0, 13118.0, 13315.0, 13512.0, 13708.0, 13904.0, 14099.0, 14296.0, 14492.0, 14689.0, 14886.0, 15082.0, 15277.0, 15474.0]
    TP成长 = 0.10
    TP上限 = 5
    CD = 10.0

    冲撞倍率 = {'短剑':2, '光剑':4 * 0.89, '巨剑':2, '钝器':2, '太刀':2}
    上斩倍率 = {'短剑':1, '光剑':1, '巨剑':2, '钝器':2, '太刀':2}

    def 等效百分比(self, 武器类型):
        return (self.冲撞倍率[武器类型] * self.data1[self.等级] + self.上斩倍率[武器类型] * self.data2[self.等级])* (1 + self.TP成长 * self.TP等级) * self.倍率 * (1.45 if 武器类型 == '短剑' else 1.0)
    
    #极神剑术被动相关,短剑影响
    def 极神剑术占比(self, 武器类型):
        return self.data1[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率 * (1.45 if 武器类型 == '短剑' else 1.0) / self.等效百分比(武器类型)

    hit数 = 3
    刺伤几率 = [0, 0.0, 0.0, 0.0, 310.0, 320.0, 330.0, 340.0, 350.0, 360.0, 370.0, 380.0, 390.0, 400.0, 410.0, 420.0, 430.0, 440.0, 450.0, 460.0, 470.0, 480.0, 490.0, 500.0, 510.0, 520.0, 530.0, 540.0, 550.0, 560.0, 570.0, 580.0, 590.0, 600.0, 610.0, 620.0, 630.0, 640.0, 650.0, 660.0, 670.0, 680.0, 690.0, 700.0, 710.0, 720.0, 730.0, 740.0, 750.0, 760.0, 770.0, 780.0, 790.0, 800.0, 810.0, 820.0, 830.0, 840.0, 850.0, 860.0, 870.0, 880.0, 890.0, 900.0, 910.0, 920.0, 930.0, 940.0, 950.0, 960.0, 970.0]
    可附加的刺伤数量 = [0, 0.0, 0.0, 0.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0]
    
    def 额外刺伤层数(self, 武器类型):
        return self.刺伤几率[self.等级] / 1000 * self.可附加的刺伤数量[self.等级]

class 极诣·剑魂技能10(极诣·剑魂主动技能):
    名称 = '拔刀斩'
    所在等级 = 35
    等级上限 = 60
    基础等级 = 36
    数据 = [0, 6189.0, 6819.0, 7447.0, 8075.0, 8702.0, 9329.0, 9960.0, 10588.0, 11215.0, 11844.0, 12471.0, 13099.0, 13727.0, 14355.0, 14982.0, 15611.0, 16238.0, 16866.0, 17496.0, 18123.0, 18752.0, 19379.0, 20007.0, 20637.0, 21265.0, 21893.0, 22520.0, 23148.0, 23775.0, 24404.0, 25031.0, 25660.0, 26289.0, 26916.0, 27545.0, 28172.0, 28800.0, 29429.0, 30056.0, 30683.0, 31313.0, 31941.0, 32569.0, 33198.0, 33826.0, 34453.0, 35082.0, 35708.0, 36338.0, 36965.0, 37593.0, 38221.0, 38849.0, 39478.0, 40106.0, 40734.0, 41361.0, 41991.0, 42617.0, 43246.0, 43875.0, 44502.0, 45130.0, 45758.0, 46386.0, 47016.0, 47643.0, 48270.0, 48899.0, 49526.0]
    TP成长 = 0.10
    TP上限 = 5
    CD = 15.0
    武器倍率 = {'短剑':1.4, '光剑':1.3, '巨剑':1.3, '钝器':1.3, '太刀':1.25}

    def 等效百分比(self, 武器类型):
        return self.武器倍率[武器类型] * self.数据[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率
    
    #拔刀奥义
    #准备动作时间 -30%
    #短剑 : 剑气的拔刀斩攻击力比率 +28%
    #太刀 : 追加攻击的拔刀斩攻击力比率 +25%
    #钝器 : 追加攻击的拔刀斩攻击力比率 +26%
    #巨剑 : [巨剑精通]最大蓄气时[拔刀斩]攻击力增加量 +26%
    #光剑 : 追加攻击的拔刀斩攻击力比率 +26%
    #攻击成功时发动[神影手] (一次[拔刀斩]最多发动1次)
    #攻击范围 +20%
    #攻击力 +5%
    是否有护石 = 1
    触发神影手 = 0
    护石选项 = ['魔界', '圣痕']
    def 装备护石(self, x):
        if x == 0:
            self.武器倍率 = {'短剑':1.4 + 0.28, '光剑':1.3 + 0.26, '巨剑':1.3 + 0.26, '钝器':1.3 + 0.26, '太刀':1.25 + 0.25}
            self.倍率 *= 1.05
            self.触发神影手 = 1
        elif x == 1:
            self.武器倍率 = {'短剑':1.4 + 0.28, '光剑':1.3 + 0.26, '巨剑':1.3 + 0.26, '钝器':1.3 + 0.26, '太刀':1.25 + 0.25}
            self.倍率 *= 1.12
            self.触发神影手 = 1            

    hit数 = 2
    刺伤几率 = [0, 0.0, 0.0, 0.0, 0.0, 41.0, 43.0, 45.0, 47.0, 49.0, 51.0, 53.0, 55.0, 57.0, 59.0, 61.0, 63.0, 65.0, 67.0, 69.0, 71.0, 73.0, 75.0, 77.0, 79.0, 81.0, 83.0, 85.0, 87.0, 89.0, 91.0, 93.0, 95.0, 97.0, 99.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
    可附加的刺伤数量 = [0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 2.0, 2.0, 2.0, 2.0, 3.0, 3.0, 3.0, 3.0, 3.0, 4.0, 4.0, 4.0, 4.0, 4.0, 5.0, 5.0, 5.0, 5.0, 5.0, 6.0, 6.0, 6.0, 6.0, 6.0, 7.0, 7.0, 7.0, 7.0, 7.0, 8.0, 8.0, 8.0, 8.0, 8.0, 9.0, 9.0, 9.0, 9.0, 9.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0]
    追加刺伤几率 = [0, 0.0, 0.0, 0.0, 0.0, 32.0, 34.0, 36.0, 38.0, 40.0, 42.0, 44.0, 46.0, 48.0, 50.0, 52.0, 54.0, 56.0, 58.0, 60.0, 62.0, 64.0, 66.0, 68.0, 70.0, 72.0, 74.0, 76.0, 78.0, 80.0, 82.0, 84.0, 86.0, 88.0, 90.0, 92.0, 94.0, 96.0, 98.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
    追加可附加的刺伤数量 = [0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 7.0]

    def 额外刺伤层数(self, 武器类型):
        return self.刺伤几率[self.等级] / 100 * self.可附加的刺伤数量[self.等级] + self.追加刺伤几率[self.等级] / 100 * self.追加可附加的刺伤数量[self.等级]

class 极诣·剑魂技能11(极诣·剑魂主动技能):
    名称 = '破军斩龙击'
    所在等级 = 40
    等级上限 = 60
    基础等级 = 33
    TP成长 = 0.10
    TP上限 = 5
    CD = 25.0
    data1 = [0, 3159.0, 3479.0, 3800.0, 4121.0, 4440.0, 4761.0, 5082.0, 5402.0, 5722.0, 6046.0, 6363.0, 6685.0, 7007.0, 7327.0, 7646.0, 7968.0, 8288.0, 8609.0, 8928.0, 9250.0, 9571.0, 9890.0, 10212.0, 10533.0, 10854.0, 11173.0, 11495.0, 11814.0, 12135.0, 12456.0, 12777.0, 13096.0, 13417.0, 13738.0, 14059.0, 14378.0, 14700.0, 15020.0, 15341.0, 15661.0, 15982.0, 16303.0, 16622.0, 16944.0, 17263.0, 17585.0, 17906.0, 18228.0, 18546.0, 18867.0, 19189.0, 19509.0, 19827.0, 20151.0, 20470.0, 20792.0, 21113.0, 21433.0, 21753.0, 22073.0, 22395.0, 22715.0, 23035.0, 23356.0, 23677.0, 23996.0, 24318.0, 24639.0, 24959.0, 25279.0]
    data2 = [0, 3791.0, 4176.0, 4560.0, 4945.0, 5330.0, 5715.0, 6098.0, 6485.0, 6868.0, 7254.0, 7637.0, 8023.0, 8408.0, 8792.0, 9176.0, 9559.0, 9946.0, 10332.0, 10715.0, 11101.0, 11485.0, 11870.0, 12254.0, 12639.0, 13024.0, 13409.0, 13793.0, 14178.0, 14563.0, 14948.0, 15332.0, 15717.0, 16099.0, 16487.0, 16871.0, 17254.0, 17642.0, 18025.0, 18411.0, 18795.0, 19177.0, 19565.0, 19947.0, 20332.0, 20719.0, 21101.0, 21489.0, 21871.0, 22255.0, 22640.0, 23028.0, 23410.0, 23794.0, 24179.0, 24565.0, 24949.0, 25334.0, 25718.0, 26106.0, 26488.0, 26873.0, 27258.0, 27642.0, 28027.0, 28411.0, 28796.0, 29180.0, 29566.0, 29951.0, 30334.0]
    data3 = [0, 5687.0, 6266.0, 6840.0, 7417.0, 7995.0, 8572.0, 9149.0, 9728.0, 10304.0, 10883.0, 11457.0, 12034.0, 12612.0, 13189.0, 13767.0, 14342.0, 14919.0, 15497.0, 16073.0, 16650.0, 17228.0, 17806.0, 18384.0, 18959.0, 19536.0, 20114.0, 20691.0, 21268.0, 21844.0, 22421.0, 23000.0, 23575.0, 24151.0, 24730.0, 25305.0, 25882.0, 26461.0, 27037.0, 27616.0, 28193.0, 28770.0, 29345.0, 29922.0, 30499.0, 31078.0, 31654.0, 32233.0, 32806.0, 33385.0, 33961.0, 34539.0, 35117.0, 35693.0, 36271.0, 36847.0, 37424.0, 38001.0, 38578.0, 39156.0, 39734.0, 40309.0, 40887.0, 41464.0, 42041.0, 42618.0, 43195.0, 43771.0, 44349.0, 44925.0, 45503.0]
    数据 = [data1, data2, data3]
    次数 = [1, 1, 1]

    def 等效百分比(self, 武器类型):
        sum = 0
        for i in range(len(self.次数)):
            sum += self.数据[i][self.等级] * self.次数[i]
        return sum * (1 + self.TP成长 * self.TP等级) * self.倍率

    hit数 = 4
    刺伤几率 = [0, 36.0, 39.0, 42.0, 45.0, 48.0, 51.0, 54.0, 57.0, 60.0, 63.0, 66.0, 69.0, 72.0, 75.0, 78.0, 81.0, 84.0, 87.0, 90.0, 93.0, 96.0, 99.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
    可附加的刺伤数量 = [0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 7.0, 7.0, 7.0, 7.0, 7.0, 7.0, 7.0, 7.0, 7.0, 7.0, 8.0]

    def 额外刺伤层数(self, 武器类型):
        return self.刺伤几率[self.等级] / 100 * self.可附加的刺伤数量[self.等级]

    def 穿云刺数量(self, 武器类型):
        return 5

class 极诣·剑魂技能12(极诣·剑魂主动技能):
    名称 = '猛龙断空斩'
    所在等级 = 40
    等级上限 = 60
    基础等级 = 33
    TP成长 = 0.10
    TP上限 = 5
    CD = 20.0
    data1 = [0, 1854.0, 2043.0, 2231.0, 2419.0, 2608.0, 2796.0, 2984.0, 3171.0, 3360.0, 3548.0, 3736.0, 3924.0, 4114.0, 4302.0, 4490.0, 4677.0, 4867.0, 5055.0, 5241.0, 5431.0, 5619.0, 5807.0, 5995.0, 6184.0, 6372.0, 6560.0, 6748.0, 6937.0, 7125.0, 7313.0, 7501.0, 7690.0, 7877.0, 8065.0, 8254.0, 8442.0, 8630.0, 8818.0, 9007.0, 9195.0, 9383.0, 9571.0, 9761.0, 9947.0, 10135.0, 10323.0, 10512.0, 10700.0, 10888.0, 11078.0, 11266.0, 11454.0, 11642.0, 11831.0, 12018.0, 12207.0, 12393.0, 12583.0, 12771.0, 12959.0, 13148.0, 13336.0, 13524.0, 13712.0, 13901.0, 14088.0, 14277.0, 14464.0, 14654.0, 14841.0]
    data2 = [0, 2724.0, 3002.0, 3278.0, 3555.0, 3830.0, 4107.0, 4384.0, 4661.0, 4936.0, 5214.0, 5490.0, 5765.0, 6044.0, 6320.0, 6596.0, 6873.0, 7149.0, 7425.0, 7702.0, 7979.0, 8255.0, 8531.0, 8808.0, 9086.0, 9361.0, 9638.0, 9914.0, 10191.0, 10467.0, 10744.0, 11020.0, 11297.0, 11573.0, 11849.0, 12127.0, 12404.0, 12679.0, 12955.0, 13233.0, 13508.0, 13785.0, 14062.0, 14339.0, 14614.0, 14891.0, 15168.0, 15445.0, 15720.0, 15997.0, 16274.0, 16550.0, 16828.0, 17103.0, 17380.0, 17657.0, 17932.0, 18209.0, 18486.0, 18763.0, 19038.0, 19315.0, 19592.0, 19869.0, 20144.0, 20422.0, 20698.0, 20973.0, 21251.0, 21528.0, 21804.0]
    数据 = [data1, data2]
    次数 = [2, 2]

    def 等效百分比(self, 武器类型):
        sum = 0
        for i in range(len(self.次数)):
            sum += self.数据[i][self.等级] * self.次数[i]
        return sum * (1 + self.TP成长 * self.TP等级) * self.倍率 * (1.25 if 武器类型 == '短剑' else 1.0)

    #极神剑术被动相关,短剑影响
    def 极神剑术占比(self, 武器类型):
        return self.data1[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率 * (1.25 if 武器类型 == '短剑' else 1.0) / self.等效百分比(武器类型)
    
    #猛龙过江
    #巴恩的飓风强化 (学习[极 · 神剑术]后发动)
    #- 移动时追击周围敌人
    #- 持续时间 +1秒
    #- 多段攻击次数上限 +5
    #- 攻击力 -57%
    #- 突进上斩动作结束时生成旋风
    #- 大小 +80%
    #- 多段攻击次数上限 +2次
    hit数 = 4 + 8
    旋风攻击次数 = 4 * 2
    是否有护石 = 1
    护石选项 = ['魔界', '圣痕']
    def 装备护石(self, x):
        if x == 0:
            self.hit数 = 4 + 11 * 3
            self.旋风攻击次数 = 11 * 3 * 0.43
        elif x == 1:
            self.hit数 = 4 + 11 * 3
            self.旋风攻击次数 = 11 * 3 * 0.43
            self.倍率 *= 1.07            

class 极诣·剑魂技能13(极诣·剑魂主动技能):
    名称 = '幻影剑舞'
    所在等级 = 45
    等级上限 = 60
    基础等级 = 31
    TP成长 = 0.10
    TP上限 = 5
    CD = 45.0
    斩击倍率 = {'短剑':12 * 0.9, '光剑':24 * 0.75, '巨剑':12 * 1.5, '钝器':12, '太刀':24 * 0.75}
    剑气倍率 = {'短剑':4 * 1.2, '光剑':3, '巨剑':3, '钝器':4.2, '太刀':3}
    data1 = [0, 689.0, 759.0, 830.0, 900.0, 970.0, 1041.0, 1110.0, 1180.0, 1251.0, 1319.0, 1389.0, 1459.0, 1531.0, 1601.0, 1669.0, 1740.0, 1811.0, 1882.0, 1951.0, 2021.0, 2089.0, 2160.0, 2231.0, 2301.0, 2371.0, 2440.0, 2511.0, 2582.0, 2651.0, 2721.0, 2791.0, 2860.0, 2931.0, 3001.0, 3071.0, 3142.0, 3210.0, 3281.0, 3352.0, 3421.0, 3492.0, 3561.0, 3632.0, 3701.0, 3772.0, 3842.0, 3912.0, 3980.0, 4052.0, 4123.0, 4192.0, 4263.0, 4332.0, 4403.0, 4472.0, 4542.0, 4612.0, 4681.0, 4751.0, 4821.0, 4893.0, 4962.0, 5033.0, 5103.0, 5173.0, 5242.0, 5312.0, 5383.0, 5451.0, 5521.0]
    data2 = [0, 2762.0, 3041.0, 3321.0, 3601.0, 3881.0, 4163.0, 4442.0, 4722.0, 5003.0, 5282.0, 5564.0, 5842.0, 6121.0, 6405.0, 6683.0, 6964.0, 7244.0, 7523.0, 7804.0, 8084.0, 8364.0, 8646.0, 8925.0, 9204.0, 9485.0, 9765.0, 10044.0, 10325.0, 10606.0, 10886.0, 11167.0, 11446.0, 11727.0, 12007.0, 12285.0, 12569.0, 12847.0, 13126.0, 13408.0, 13688.0, 13968.0, 14248.0, 14526.0, 14809.0, 15089.0, 15369.0, 15649.0, 15929.0, 16209.0, 16489.0, 16769.0, 17049.0, 17330.0, 17610.0, 17888.0, 18172.0, 18451.0, 18729.0, 19011.0, 19290.0, 19572.0, 19851.0, 20131.0, 20413.0, 20692.0, 20972.0, 21253.0, 21531.0, 21811.0, 22093.0]

    def 等效百分比(self, 武器类型):
        return (self.斩击倍率[武器类型] * self.data1[self.等级] + self.剑气倍率[武器类型] * self.data2[self.等级])* (1 + self.TP成长 * self.TP等级) * self.倍率

    #极神剑术被动相关,武器倍率不影响
    def 极神剑术斩击占比(self, 武器类型):
        return self.data1[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率 / self.等效百分比(武器类型)

    #极神剑术被动相关,武器倍率不影响
    def 极神剑术剑气占比(self, 武器类型):
        return self.data2[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率 / self.等效百分比(武器类型)

    hit数 = 24 + 3 + 4 + 3 #本体斩击:24  本体剑气:3  影子斩击:4  影子剑气:3
    刺伤几率 = [0, 1.0, 1.0, 2.0, 2.0, 3.0, 3.0, 4.0, 4.0, 5.0, 5.0, 6.0, 6.0, 7.0, 7.0, 8.0, 8.0, 9.0, 9.0, 10.0, 10.0, 11.0, 11.0, 12.0, 12.0, 13.0, 13.0, 14.0, 14.0, 15.0, 15.0, 16.0, 16.0, 17.0, 17.0, 18.0, 18.0, 19.0, 19.0, 20.0, 20.0, 21.0, 21.0, 22.0, 22.0, 23.0, 23.0, 24.0, 24.0, 25.0, 25.0, 26.0, 26.0, 27.0, 27.0, 28.0, 28.0, 29.0, 29.0, 30.0, 30.0, 31.0, 31.0, 32.0, 32.0, 33.0, 33.0, 34.0, 34.0, 35.0, 35.0]
    可附加的刺伤数量 = [0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0]

    def 额外刺伤层数(self, 武器类型):
        return self.刺伤几率[self.等级] / 100 * self.可附加的刺伤数量[self.等级] * (24 + 3)

    def 穿云刺数量(self, 武器类型):
        return 4

    #无形剑舞
    #攻击范围 +25%
    #幻影斩击多段攻击次数 +8次
    #施放过程中所受伤害 -90%
    #幻影斩击多段攻击次数 +5次
    是否有护石 = 1
    影子斩击次数 = 4
    护石选项 = ['魔界', '圣痕']
    def 装备护石(self, x):
        if x == 0:
            self.影子斩击次数 += 13
            self.hit数 += 13
        elif x == 1:
            self.倍率 *= 1.06
            self.影子斩击次数 += 13
            self.hit数 += 13

class 极诣·剑魂技能14(极诣·剑魂主动技能):
    名称 = '极鬼剑术暴风式'
    所在等级 = 50
    等级上限 = 40
    基础等级 = 12
    CD = 145.0
    hit数 = 26
    data1 = [0, 3832, 4721, 5610, 6498, 7388, 8277, 9166, 10056, 10945, 11832, 12723, 13612, 14500, 15390, 16280, 17169, 18055, 18945, 19834, 20722, 21611, 22499, 23390, 24279, 25167, 26057, 26947, 27835, 28724, 29613, 30503, 31392, 32279, 33168, 34057, 34947, 35836, 36723, 37613, 38501, 39391, 40280, 41170, 42059, 42947, 43836, 44726, 45615, 46503, 47390, 48281, 49170, 50058, 50948, 51838, 52725, 53614, 54503, 55393, 56282, 57171, 58060, 58949, 59838, 60725, 61613, 62505, 63392, 64282, 65171]
    data2 = [0, 1824, 2248, 2670, 3096, 3516, 3943, 4364, 4787, 5212, 5633, 6058, 6482, 6904, 7329, 7752, 8175, 8596, 9022, 9445, 9868, 10291, 10715, 11137, 11562, 11983, 12408, 12829, 13254, 13677, 14101, 14525, 14947, 15371, 15794, 16216, 16642, 17062, 17488, 17910, 18334, 18756, 19181, 19605, 20027, 20451, 20873, 21297, 21721, 22144, 22567, 22991, 23413, 23840, 24260, 24684, 25107, 25530, 25954, 26376, 26801, 27224, 27647, 28070, 28492, 28917, 29340, 29764, 30186, 30610, 31032]
    data3 = [0, 7118, 8769, 10421, 12073, 13721, 15373, 17025, 18676, 20325, 21976, 23628, 25279, 26929, 28580, 30233, 31882, 33534, 35184, 36836, 38486, 40136, 41789, 43440, 45090, 46740, 48391, 50044, 51694, 53345, 54995, 56647, 58298, 59949, 61600, 63251, 64901, 66551, 68204, 69852, 71505, 73156, 74806, 76456, 78108, 79758, 81411, 83061, 84712, 86364, 88013, 89665, 91316, 92967, 94619, 96267, 97920, 99571, 101220, 102872, 104523, 106175, 107826, 109476, 111127, 112780, 114428, 116080, 117731, 119382, 121031]
    数据 = [data1, data2, data3]
    次数 = [1, 24, 1]

    def 等效百分比(self, 武器类型):
        sum = 0
        for i in range(len(self.次数)):
            sum += self.数据[i][self.等级] * self.次数[i]
        return sum * self.倍率 * 1.1 #Lv9以上时增加10%攻击力

class 极诣·剑魂技能15(被动技能):
    名称 = '极鬼剑术斩铁式'
    所在等级 = 48
    等级上限 = 40
    基础等级 = 20
    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(0.995 + 0.02 * self.等级, 5)

class 极诣·剑魂技能16(被动技能):
    名称 = '极鬼剑术斩钢式'
    所在等级 = 48
    等级上限 = 1
    基础等级 = 1
    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return 1.083

class 极诣·剑魂技能17(极诣·剑魂主动技能):
    名称 = '极神剑术流星落'
    所在等级 = 60
    等级上限 = 40
    基础等级 = 23
    CD = 35.0
    TP成长 = 0.10
    TP上限 = 5
    data1 = [0, 2901.0, 3197.0, 3491.0, 3786.0, 4079.0, 4375.0, 4668.0, 4964.0, 5257.0, 5552.0, 5846.0, 6142.0, 6435.0, 6730.0, 7025.0, 7318.0, 7613.0, 7909.0, 8202.0, 8497.0, 8791.0, 9086.0, 9380.0, 9675.0, 9968.0, 10264.0, 10559.0, 10852.0, 11145.0, 11441.0, 11736.0, 12030.0, 12325.0, 12619.0, 12912.0, 13207.0, 13502.0, 13798.0, 14091.0, 14386.0, 14679.0, 14975.0, 15271.0, 15564.0, 15859.0, 16153.0, 16445.0, 16741.0, 17037.0, 17331.0, 17625.0, 17920.0, 18213.0, 18509.0, 18803.0, 19098.0, 19392.0, 19687.0, 19979.0, 20275.0, 20571.0, 20864.0, 21159.0, 21452.0, 21745.0, 22041.0, 22337.0, 22632.0, 22926.0, 23218.0]
    data2 = [0, 533.0, 587.0, 643.0, 697.0, 750.0, 806.0, 860.0, 914.0, 968.0, 1022.0, 1078.0, 1130.0, 1186.0, 1240.0, 1294.0, 1348.0, 1403.0, 1455.0, 1509.0, 1565.0, 1618.0, 1671.0, 1729.0, 1783.0, 1835.0, 1890.0, 1944.0, 1998.0, 2052.0, 2108.0, 2161.0, 2216.0, 2270.0, 2324.0, 2378.0, 2432.0, 2486.0, 2541.0, 2596.0, 2650.0, 2705.0, 2758.0, 2812.0, 2867.0, 2921.0, 2973.0, 3030.0, 3083.0, 3138.0, 3193.0, 3247.0, 3299.0, 3355.0, 3408.0, 3462.0, 3518.0, 3571.0, 3628.0, 3680.0, 3734.0, 3788.0, 3843.0, 3896.0, 3953.0, 4005.0, 4059.0, 4114.0, 4169.0, 4222.0, 4276.0]
    data3 = [0, 5804.0, 6394.0, 6982.0, 7570.0, 8162.0, 8749.0, 9338.0, 9928.0, 10516.0, 11104.0, 11696.0, 12282.0, 12870.0, 13462.0, 14050.0, 14638.0, 15229.0, 15816.0, 16404.0, 16996.0, 17582.0, 18171.0, 18762.0, 19350.0, 19938.0, 20529.0, 21116.0, 21704.0, 22294.0, 22883.0, 23470.0, 24062.0, 24650.0, 25237.0, 25828.0, 26417.0, 27004.0, 27596.0, 28184.0, 28774.0, 29362.0, 29950.0, 30539.0, 31128.0, 31717.0, 32305.0, 32896.0, 33484.0, 34073.0, 34662.0, 35251.0, 35839.0, 36429.0, 37017.0, 37606.0, 38196.0, 38785.0, 39373.0, 39963.0, 40550.0, 41139.0, 41729.0, 42316.0, 42906.0, 43496.0, 44084.0, 44673.0, 45263.0, 45850.0, 46440.0]
    数据 = [data1, data2, data3]
    次数 = [1, 38, 1]

    def 等效百分比(self, 武器类型):
        sum = 0
        for i in range(len(self.次数)):
            sum += self.数据[i][self.等级] * self.次数[i]
        return sum * (1 + self.TP成长 * self.TP等级) * self.倍率

    hit数 = sum(次数)
    流星之天剑刺伤层数 = 0 #极神剑术被动相关
    刺伤几率 = [0, 29.0, 32.0, 35.0, 38.0, 41.0, 44.0, 47.0, 50.0, 53.0, 56.0, 59.0, 62.0, 65.0, 68.0, 71.0, 74.0, 77.0, 80.0, 83.0, 86.0, 89.0, 92.0, 95.0, 98.0, 101.0, 104.0, 107.0, 110.0, 113.0, 116.0, 119.0, 122.0, 125.0, 128.0, 131.0, 134.0, 137.0, 140.0, 143.0, 146.0, 149.0, 152.0, 155.0, 158.0, 161.0, 164.0, 167.0, 170.0, 173.0, 176.0, 179.0, 182.0, 185.0, 188.0, 191.0, 194.0, 197.0, 200.0, 203.0, 206.0, 209.0, 212.0, 215.0, 218.0, 221.0, 224.0, 227.0, 230.0, 233.0, 236.0]
    可附加的刺伤数量 = [0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

    def 额外刺伤层数(self, 武器类型):
        return min(self.刺伤几率[self.等级] / 100, 1) * self.可附加的刺伤数量[self.等级] + self.流星之天剑刺伤层数

    #流星审判
    #跳跃冲击波攻击强制控制敌人1.5秒
    #跳跃动作变更为无敌状态， 落地后增加1秒无敌时间
    #投掷流星剑前置准备时间 -50%
    #流星剑间隔 -20%
    #流星剑数量 +9个
    #流星剑和流星之天剑攻击范围 +55%
    #流星之天剑攻击力 +35%
    #流星之天剑强制控制时间 +60%
    是否有护石 = 1
    流星之天剑倍率 = 1.0 #极神剑术被动相关
    护石选项 = ['魔界', '圣痕']
    def 装备护石(self, x):
        if x == 0:
            self.hit数 += 9
            self.次数 = [1, 38 + 9, 1]
            self.流星之天剑倍率 = 1.35
        elif x == 1:
            self.hit数 += 9
            self.次数 = [1, 38 + 9, 1]
            self.流星之天剑倍率 = 2.05

class 极诣·剑魂技能18(极诣·剑魂主动技能):
    名称 = '破空拔刀斩'
    所在等级 = 70
    等级上限 = 40
    基础等级 = 18
    CD = 50.0
    TP成长 = 0.10
    TP上限 = 5
    #近距离百分比而非剑气
    数据 = [0, 32083.0, 35337.0, 38590.0, 41846.0, 45099.0, 48357.0, 51611.0, 54865.0, 58121.0, 61375.0, 64629.0, 67885.0, 71141.0, 74394.0, 77649.0, 80903.0, 84157.0, 87414.0, 90667.0, 93922.0, 97178.0, 100432.0, 103688.0, 106942.0, 110197.0, 113452.0, 116706.0, 119962.0, 123213.0, 126471.0, 129725.0, 132980.0, 136235.0, 139492.0, 142744.0, 146000.0, 149254.0, 152509.0, 155764.0, 159018.0, 162274.0, 165527.0, 168781.0, 172038.0, 175292.0, 178548.0, 181802.0, 185056.0, 188312.0, 191565.0]
    
    def 等效百分比(self, 武器类型):
        return self.数据[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率

    hit数 = 1
    刺伤几率 = [0, 31.0, 35.0, 39.0, 43.0, 47.0, 51.0, 55.0, 59.0, 63.0, 67.0, 71.0, 75.0, 79.0, 83.0, 87.0, 91.0, 95.0, 99.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
    可附加的刺伤数量 = [0, 3.0, 3.0, 3.0, 5.0, 5.0, 5.0, 7.0, 7.0, 7.0, 9.0, 9.0, 9.0, 11.0, 11.0, 11.0, 13.0, 13.0, 13.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0]

    def 额外刺伤层数(self, 武器类型):
        return self.刺伤几率[self.等级] / 100 * self.可附加的刺伤数量[self.等级]

    #破空一刀
    #剑气攻击适用与近距离击打相同的攻击力
    #准备动作时间 -40%
    #冷却时间 -10%
    #剑气生成后僵直 -20%
    #攻击力 +11%
    是否有护石 = 1
    护石选项 = ['魔界', '圣痕']
    def 装备护石(self, x):
        if x == 0:
            self.倍率 *= 1.11
            self.CD *= 0.9
        elif x == 1:
            self.倍率 *= 1.19
            self.CD *= 0.9        

class 极诣·剑魂技能19(极诣·剑魂主动技能):
    名称 = '极神剑术破空斩'
    所在等级 = 75
    等级上限 = 40
    基础等级 = 16
    CD = 35.0
    多段倍率 = {'短剑':5, '光剑':6, '巨剑':5 * 1.08, '钝器':5, '太刀':6}
    爆炸倍率 = {'短剑':1, '光剑':1, '巨剑':1.08, '钝器':1, '太刀':1}
    data1 = [0, 4932.0, 5432.0, 5934.0, 6432.0, 6934.0, 7433.0, 7935.0, 8434.0, 8937.0, 9435.0, 9937.0, 10436.0, 10939.0, 11438.0, 11936.0, 12439.0, 12938.0, 13440.0, 13938.0, 14441.0, 14939.0, 15441.0, 15941.0, 16441.0, 16942.0, 17442.0, 17943.0, 18443.0, 18944.0, 19444.0, 19945.0, 20446.0, 20945.0, 21446.0, 21945.0, 22448.0, 22947.0, 23449.0, 23948.0, 24450.0, 24948.0, 25450.0, 25950.0, 26450.0, 26950.0, 27450.0, 27952.0, 28452.0, 28953.0, 29452.0, 29954.0, 30455.0, 30954.0, 31454.0, 31954.0, 32454.0, 32956.0, 33456.0, 33957.0, 34459.0, 34957.0, 35458.0, 35959.0, 36458.0, 36959.0, 37459.0, 37961.0, 38460.0, 38960.0, 39461.0]
    data2 = [0, 16441.0, 18109.0, 19777.0, 21446.0, 23114.0, 24781.0, 26450.0, 28118.0, 29786.0, 31454.0, 33124.0, 34790.0, 36458.0, 38127.0, 39795.0, 41463.0, 43133.0, 44799.0, 46467.0, 48134.0, 49803.0, 51472.0, 53139.0, 54806.0, 56475.0, 58144.0, 59811.0, 61481.0, 63148.0, 64815.0, 66483.0, 68153.0, 69820.0, 71490.0, 73157.0, 74824.0, 76492.0, 78159.0, 79829.0, 81495.0, 83166.0, 84833.0, 86501.0, 88168.0, 89838.0, 91504.0, 93174.0, 94842.0, 96510.0, 98177.0, 99846.0, 101512.0, 103183.0, 104850.0, 106516.0, 108186.0, 109853.0, 111521.0, 113188.0, 114859.0, 116525.0, 118195.0, 119862.0, 121530.0, 123197.0, 124868.0, 126534.0, 128203.0, 129870.0, 131539.0]

    def 等效百分比(self, 武器类型):
        return (self.多段倍率[武器类型] * self.data1[self.等级] + self.爆炸倍率[武器类型] * self.data2[self.等级]) * self.倍率
    
    #极神剑术被动相关,巨剑蓄力会影响
    def 极神剑术占比(self, 武器类型):
        return self.爆炸倍率[武器类型] * self.data2[self.等级] * self.倍率 / self.等效百分比(武器类型)

    hit数 = 7
    刺伤几率 = [0, 530.0, 550.0, 570.0, 590.0, 610.0, 630.0, 650.0, 670.0, 690.0, 710.0, 730.0, 750.0, 770.0, 790.0, 810.0, 830.0, 850.0, 870.0, 890.0, 910.0, 930.0, 950.0, 970.0, 990.0, 1010.0, 1030.0, 1050.0, 1070.0, 1090.0, 1110.0, 1130.0, 1150.0, 1170.0, 1190.0, 1210.0, 1230.0, 1250.0, 1270.0, 1290.0, 1310.0, 1330.0, 1350.0, 1370.0, 1390.0, 1410.0, 1430.0, 1450.0, 1470.0, 1490.0, 1510.0, 1530.0, 1550.0, 1570.0, 1590.0, 1610.0, 1630.0, 1650.0, 1670.0, 1690.0, 1710.0, 1730.0, 1750.0, 1770.0, 1790.0, 1810.0, 1830.0, 1850.0, 1870.0, 1890.0, 1910.0]
    可附加的刺伤数量 = [0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0]

    def 额外刺伤层数(self, 武器类型):
        return min(self.刺伤几率[self.等级] / 1000, 1) * self.可附加的刺伤数量[self.等级]

    def 穿云刺数量(self, 武器类型):
        return 4

    是否有护石 = 1
    护石选项 = ['圣痕']
    def 装备护石(self, x):
        if x == 0:
            self.data2 = [x * 1.62 for x in self.data2]

class 极诣·剑魂技能20(极诣·剑魂主动技能):
    名称 = '极神剑术瞬斩'
    所在等级 = 80
    等级上限 = 40
    基础等级 = 13
    CD = 50.0
    data1 = [0, 13585.0, 14963.0, 16340.0, 17719.0, 19096.0, 20475.0, 21855.0, 23232.0, 24611.0, 25988.0, 27366.0, 28743.0, 30122.0, 31500.0, 32879.0, 34256.0, 35634.0, 37013.0, 38392.0, 39770.0, 41147.0, 42526.0, 43903.0, 45282.0, 46660.0, 48041.0, 49416.0, 50796.0, 52172.0, 53552.0, 54930.0, 56308.0, 57686.0, 59064.0, 60442.0, 61820.0, 63201.0, 64576.0, 65956.0, 67333.0, 68712.0, 70088.0, 71469.0, 72846.0, 74223.0, 75602.0, 76980.0, 78357.0, 79736.0, 81116.0, 82494.0, 83872.0, 85250.0, 86628.0, 88006.0, 89384.0, 90762.0, 92140.0, 93517.0, 94896.0, 96273.0, 97653.0, 99032.0, 100409.0, 101787.0, 103166.0, 104543.0, 105923.0, 107300.0, 108678.0]
    data2 = [0, 2223.0, 2449.0, 2671.0, 2898.0, 3124.0, 3350.0, 3575.0, 3801.0, 4026.0, 4251.0, 4477.0, 4703.0, 4929.0, 5154.0, 5380.0, 5605.0, 5830.0, 6056.0, 6281.0, 6507.0, 6734.0, 6958.0, 7182.0, 7410.0, 7636.0, 7860.0, 8086.0, 8312.0, 8538.0, 8763.0, 8989.0, 9213.0, 9438.0, 9663.0, 9890.0, 10116.0, 10340.0, 10567.0, 10792.0, 11017.0, 11243.0, 11468.0, 11695.0, 11921.0, 12144.0, 12371.0, 12597.0, 12819.0, 13047.0, 13273.0, 13499.0, 13725.0, 13950.0, 14174.0, 14400.0, 14625.0, 14850.0, 15077.0, 15304.0, 15527.0, 15753.0, 15978.0, 16204.0, 16430.0, 16655.0, 16882.0, 17108.0, 17331.0, 17558.0, 17784.0]
    data3 = [0, 37048.0, 40807.0, 44566.0, 48324.0, 52084.0, 55843.0, 59601.0, 63360.0, 67118.0, 70877.0, 74636.0, 78394.0, 82152.0, 85910.0, 89671.0, 93429.0, 97186.0, 100945.0, 104704.0, 108465.0, 112223.0, 115981.0, 119740.0, 123498.0, 127258.0, 131014.0, 134774.0, 138532.0, 142292.0, 146050.0, 149810.0, 153568.0, 157327.0, 161086.0, 164844.0, 168602.0, 172360.0, 176119.0, 179878.0, 183638.0, 187396.0, 191154.0, 194914.0, 198671.0, 202430.0, 206190.0, 209948.0, 213705.0, 217466.0, 221223.0, 224981.0, 228738.0, 232499.0, 236257.0, 240016.0, 243775.0, 247533.0, 251292.0, 255052.0, 258811.0, 262568.0, 266326.0, 270085.0, 273844.0, 277602.0, 281362.0, 285120.0, 288879.0, 292639.0, 296396.0]
    数据 = [data1, data2, data3]
    次数 = [1, 6, 1]
    hit数 = sum(次数)

    def 等效百分比(self, 武器类型):
        sum = 0
        for i in range(len(self.次数)):
            sum += self.数据[i][self.等级] * self.次数[i]
        return sum * self.倍率

    是否有护石 = 1
    护石选项 = ['圣痕']
    def 装备护石(self, x):
        if x == 0:
            self.倍率 *= 1.37

class 极诣·剑魂技能21(极诣·剑魂主动技能):
    名称 = '万剑归宗(终结)'
    所在等级 = 85
    等级上限 = 40
    基础等级 = 5
    CD = 180.0
    data1 = [0, 4545.0, 5604.0, 6660.0, 7711.0, 8768.0, 9825.0, 10876.0, 11934.0, 12987.0, 14039.0, 15100.0, 16152.0, 17204.0, 18258.0, 19317.0, 20371.0, 21423.0, 22477.0, 23538.0, 24590.0, 25642.0, 26699.0, 27751.0, 28809.0, 29865.0, 30919.0, 31971.0, 33031.0, 34084.0, 35136.0, 36188.0, 37250.0, 38301.0, 39354.0, 40409.0, 41464.0, 42522.0, 43574.0, 44632.0, 45684.0, 46740.0, 47797.0, 48850.0, 49901.0, 50955.0, 52015.0, 53068.0, 54120.0, 55175.0, 56235.0, 57288.0, 58340.0, 59395.0, 60453.0, 61505.0, 62563.0, 63614.0, 64669.0, 65728.0, 66781.0, 67834.0, 68885.0, 69946.0, 71001.0, 72050.0, 73106.0, 74166.0, 75219.0, 76271.0, 77329.0]
    data2 = [0, 18168.0, 22383.0, 26599.0, 30814.0, 35020.0, 39236.0, 43451.0, 47668.0, 51877.0, 56094.0, 60308.0, 64523.0, 68731.0, 72945.0, 77162.0, 81376.0, 85588.0, 89803.0, 94018.0, 98226.0, 102440.0, 106656.0, 110871.0, 115086.0, 119296.0, 123511.0, 127724.0, 131933.0, 136151.0, 140365.0, 144579.0, 148793.0, 153005.0, 157219.0, 161433.0, 165644.0, 169858.0, 174074.0, 178288.0, 182503.0, 186712.0, 190927.0, 195142.0, 199354.0, 203568.0, 207782.0, 211997.0, 216207.0, 220421.0, 224636.0, 228851.0, 233061.0, 237276.0, 241491.0, 245701.0, 249916.0, 254131.0, 258345.0, 262560.0, 266771.0, 270985.0, 275199.0, 279409.0, 283624.0, 287838.0, 292053.0, 296269.0, 300479.0, 304696.0, 308906.0]
    数据 = [data1, data2]
    次数 = [14, 2]

    def 等效百分比(self, 武器类型):
        sum = 0
        for i in range(len(self.次数)):
            sum += self.数据[i][self.等级] * self.次数[i]
        return sum * self.倍率

    #该技能hit数不会触发太刀刺伤

class 极诣·剑魂技能22(极诣·剑魂主动技能):
    名称 = '万剑归宗(穿云刺)'
    所在等级 = 85
    等级上限 = 1
    基础等级 = 1
    数据 = [0, 982.0, 1208.0, 1437.0, 1664.0, 1890.0, 2117.0, 2347.0, 2573.0, 2801.0, 3029.0, 3255.0, 3483.0, 3710.0, 3938.0, 4166.0, 4393.0, 4620.0, 4848.0, 5075.0, 5303.0, 5530.0, 5758.0, 5986.0, 6213.0, 6441.0, 6667.0, 6894.0, 7122.0, 7349.0, 7578.0, 7805.0, 8032.0, 8261.0, 8488.0, 8714.0, 8942.0, 9171.0, 9398.0, 9624.0, 9852.0, 10081.0, 10307.0, 10534.0, 10763.0, 10989.0, 11217.0, 11446.0, 11673.0, 11900.0, 12127.0, 12354.0, 12582.0, 12809.0, 13037.0, 13265.0, 13492.0, 13720.0, 13947.0, 14175.0, 14400.0, 14628.0, 14857.0, 15084.0, 15311.0, 15540.0, 15766.0, 15993.0, 16222.0, 16449.0, 16676.0]
    
    def 等效百分比(self, 武器类型):
        return self.数据[self.等级] * self.倍率

    def 等效CD(self, 武器类型):
        return 1.0

    #该技能hit数不会触发太刀刺伤

class 极诣·剑魂技能23(极诣·剑魂主动技能):
    名称 = '极神剑术无形斩'
    所在等级 = 95
    等级上限 = 40
    基础等级 = 6
    CD = 60.0
    data1 = [0, 20213.0, 22264.0, 24315.0, 26365.0, 28416.0, 30467.0, 32517.0, 34568.0, 36619.0, 38669.0, 40720.0, 42771.0, 44821.0, 46872.0, 48923.0, 50973.0, 53024.0, 55075.0, 57125.0, 59176.0, 61227.0, 63278.0, 65328.0, 67379.0, 69430.0, 71480.0, 73531.0, 75582.0, 77632.0, 79683.0, 81734.0, 83784.0, 85835.0, 87886.0, 89936.0, 91987.0, 94038.0, 96088.0, 98139.0, 100190.0]
    data2 = [0, 2887.0, 3180.0, 3473.0, 3766.0, 4059.0, 4352.0, 4645.0, 4938.0, 5231.0, 5524.0, 5817.0, 6110.0, 6403.0, 6696.0, 6989.0, 7281.0, 7574.0, 7867.0, 8160.0, 8453.0, 8746.0, 9039.0, 9332.0, 9625.0, 9918.0, 10211.0, 10504.0, 10797.0, 11090.0, 11383.0, 11676.0, 11969.0, 12262.0, 12555.0, 12848.0, 13141.0, 13434.0, 13726.0, 14019.0, 14312.0]
    data3 = [0, 38502.0, 42408.0, 46314.0, 50220.0, 54126.0, 58032.0, 61938.0, 65844.0, 69750.0, 73656.0, 77563.0, 81469.0, 85375.0, 89281.0, 93187.0, 97093.0, 100999.0, 104905.0, 108811.0, 112717.0, 116623.0, 120529.0, 124435.0, 128341.0, 132247.0, 136153.0, 140059.0, 143965.0, 147871.0, 151777.0, 155684.0, 159590.0, 163496.0, 167402.0, 171308.0, 175214.0, 179120.0, 183026.0, 186932.0, 190838.0]
    数据 = [data1, data2, data3]
    次数 = [1, 13, 1]
    hit数 = sum(次数)

    def 等效百分比(self, 武器类型):
        sum = 0
        for i in range(len(self.次数)):
            sum += self.数据[i][self.等级] * self.次数[i]
        return sum * self.倍率

class 极诣·剑魂技能24(极诣·剑魂主动技能):
    名称 = '万剑极诣开天斩'
    所在等级 = 100
    等级上限 = 40
    基础等级 = 2
    CD = 290
    data1 = [0, 43625.0, 53743.0, 63858.0, 73975.0, 84091.0, 94207.0, 104323.0, 114439.0, 124555.0, 134672.0, 144787.0, 154904.0, 165020.0, 175136.0, 185253.0, 195369.0, 205485.0, 215602.0, 225718.0, 235833.0, 245950.0, 256066.0, 266183.0, 276298.0, 286415.0, 296531.0, 306647.0, 316763.0, 326880.0, 336995.0, 347112.0, 357228.0, 367345.0, 377458.0, 387575.0, 397691.0, 407807.0, 417925.0, 428041.0, 438157.0]
    data2 = [0, 57049.0, 70278.0, 83507.0, 96737.0, 109965.0, 123193.0, 136422.0, 149651.0, 162880.0, 176109.0, 189338.0, 202567.0, 215796.0, 229025.0, 242253.0, 255482.0, 268712.0, 281941.0, 295170.0, 308398.0, 321627.0, 334856.0, 348086.0, 361314.0, 374542.0, 387771.0, 401000.0, 414229.0, 427458.0, 440687.0, 453914.0, 467145.0, 480373.0, 493601.0, 506832.0, 520060.0, 533288.0, 546519.0, 559746.0, 572974.0]
    data3 = [0, 7830.0, 9645.0, 11462.0, 13276.0, 15093.0, 16908.0, 18724.0, 20540.0, 22356.0, 24172.0, 25987.0, 27803.0, 29619.0, 31434.0, 33250.0, 35066.0, 36881.0, 38697.0, 40513.0, 42328.0, 44144.0, 45960.0, 47777.0, 49591.0, 51408.0, 53223.0, 55039.0, 56854.0, 58671.0, 60485.0, 62300.0, 64116.0, 65932.0, 67747.0, 69565.0, 71381.0, 73196.0, 75012.0, 76827.0, 78642.0]
    data4 = [0, 10738.0, 13228.0, 15718.0, 18209.0, 20699.0, 23189.0, 25680.0, 28169.0, 30659.0, 33150.0, 35639.0, 38130.0, 40620.0, 43109.0, 45600.0, 48091.0, 50581.0, 53071.0, 55561.0, 58051.0, 60541.0, 63031.0, 65521.0, 68011.0, 70502.0, 72992.0, 75482.0, 77973.0, 80462.0, 82953.0, 85442.0, 87931.0, 90423.0, 92912.0, 95401.0, 97894.0, 100382.0, 102872.0, 105364.0, 107853.0]
    data5 = [0, 134234.0, 165361.0, 196488.0, 227614.0, 258741.0, 289868.0, 320995.0, 352122.0, 383248.0, 414375.0, 445502.0, 476629.0, 507756.0, 538882.0, 570009.0, 601136.0, 632263.0, 663390.0, 694516.0, 725643.0, 756770.0, 787897.0, 819024.0, 850151.0, 881277.0, 912404.0, 943531.0, 974658.0, 1005785.0, 1036911.0, 1068037.0, 1099165.0, 1130292.0, 1161418.0, 1192546.0, 1223672.0, 1254798.0, 1285927.0, 1317053.0, 1348178.0]
    数据 = [data1, data2, data3, data4, data5]
    次数 = [1, 1, 6, 5, 1]
    hit数 = sum(次数)

    def 等效百分比(self, 武器类型):
        sum = 0
        for i in range(len(self.次数)):
            sum += self.数据[i][self.等级] * self.次数[i]
        return sum * self.倍率

    关联技能 = ['无']

    def 加成倍率(self, 武器类型):
        return 0.0

class 极诣·剑魂技能25(被动技能):
    名称 = '极神剑术'
    所在等级 = 75
    等级上限 = 40
    基础等级 = 11
    关联技能 = ['拔刀斩','破军斩龙击','极鬼剑术暴风式','破空拔刀斩','极神剑术瞬斩','万剑归宗(终结)','万剑归宗(穿云刺)','极神剑术无形斩','万剑极诣开天斩']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.22 + 0.02 * self.等级, 5)

    #基础值 40%
    暴风式冲击波 = [0, 0.0, 4.0, 8.0, 12.0, 16.0, 20.0, 24.0, 28.0, 32.0, 36.0, 40.0, 44.0, 48.0, 52.0, 56.0, 60.0, 64.0, 68.0, 72.0, 76.0, 80.0, 84.0, 88.0, 92.0, 96.0, 100.0, 104.0, 108.0, 112.0, 116.0, 120.0, 124.0, 128.0, 132.0, 136.0, 140.0, 144.0, 148.0, 152.0, 156.0, 160.0, 164.0, 168.0, 172.0, 176.0, 180.0, 184.0, 188.0, 192.0, 196.0, 200.0, 204.0, 208.0, 212.0, 216.0, 220.0, 224.0, 228.0, 232.0, 236.0, 240.0, 244.0, 248.0, 252.0, 256.0, 260.0, 264.0, 268.0, 272.0, 276.0]
    #基础值 21%
    飓风 = [0, 0.0, 20.0, 40.0, 60.0, 80.0, 100.0, 120.0, 140.0, 160.0, 180.0, 200.0, 220.0, 240.0, 260.0, 280.0, 300.0, 320.0, 340.0, 360.0, 380.0, 400.0, 420.0, 440.0, 460.0, 480.0, 500.0, 520.0, 540.0, 560.0, 580.0, 600.0, 620.0, 640.0, 660.0, 680.0, 700.0, 720.0, 740.0, 760.0, 780.0, 800.0, 820.0, 840.0, 860.0, 880.0, 900.0, 920.0, 940.0, 960.0, 980.0, 1000.0, 1020.0, 1040.0, 1060.0, 1080.0, 1100.0, 1120.0, 1140.0, 1160.0, 1180.0, 1200.0, 1220.0, 1240.0, 1260.0, 1280.0, 1300.0, 1320.0, 1340.0, 1360.0, 1380.0]
    #基础值 50%
    幻影斩击 = [0, 0.0, 5.0, 10.0, 15.0, 20.0, 25.0, 30.0, 35.0, 40.0, 45.0, 50.0, 55.0, 60.0, 65.0, 70.0, 75.0, 80.0, 85.0, 90.0, 95.0, 100.0, 105.0, 110.0, 115.0, 120.0, 125.0, 130.0, 135.0, 140.0, 145.0, 150.0, 155.0, 160.0, 165.0, 170.0, 175.0, 180.0, 185.0, 190.0, 195.0, 200.0, 205.0, 210.0, 215.0, 220.0, 225.0, 230.0, 235.0, 240.0, 245.0, 250.0, 255.0, 260.0, 265.0, 270.0, 275.0, 280.0, 285.0, 290.0, 295.0, 300.0, 305.0, 310.0, 315.0, 320.0, 325.0, 330.0, 335.0, 340.0, 345.0]
    #基础值 50%
    幻影剑气 = [0, 0.0, 5.0, 10.0, 15.0, 20.0, 25.0, 30.0, 35.0, 40.0, 45.0, 50.0, 55.0, 60.0, 65.0, 70.0, 75.0, 80.0, 85.0, 90.0, 95.0, 100.0, 105.0, 110.0, 115.0, 120.0, 125.0, 130.0, 135.0, 140.0, 145.0, 150.0, 155.0, 160.0, 165.0, 170.0, 175.0, 180.0, 185.0, 190.0, 195.0, 200.0, 205.0, 210.0, 215.0, 220.0, 225.0, 230.0, 235.0, 240.0, 245.0, 250.0, 255.0, 260.0, 265.0, 270.0, 275.0, 280.0, 285.0, 290.0, 295.0, 300.0, 305.0, 310.0, 315.0, 320.0, 325.0, 330.0, 335.0, 340.0, 345.0]
    #基础值 41%
    幻影钝器 = [0, 0.0, 5.0, 10.0, 15.0, 20.0, 25.0, 30.0, 35.0, 40.0, 45.0, 50.0, 55.0, 60.0, 65.0, 70.0, 75.0, 80.0, 85.0, 90.0, 95.0, 100.0, 105.0, 110.0, 115.0, 120.0, 125.0, 130.0, 135.0, 140.0, 145.0, 150.0, 155.0, 160.0, 165.0, 170.0, 175.0, 180.0, 185.0, 190.0, 195.0, 200.0, 205.0, 210.0, 215.0, 220.0, 225.0, 230.0, 235.0, 240.0, 245.0, 250.0, 255.0, 260.0, 265.0, 270.0, 275.0, 280.0, 285.0, 290.0, 295.0, 300.0, 305.0, 310.0, 315.0, 320.0, 325.0, 330.0, 335.0, 340.0, 345.0]
    #基础值 60%
    十字斩 = [0, 0.0, 6.0, 12.0, 18.0, 24.0, 30.0, 36.0, 42.0, 48.0, 54.0, 60.0, 66.0, 72.0, 78.0, 84.0, 90.0, 96.0, 102.0, 108.0, 114.0, 120.0, 126.0, 132.0, 138.0, 144.0, 150.0, 156.0, 162.0, 168.0, 174.0, 180.0, 186.0, 192.0, 198.0, 204.0, 210.0, 216.0, 222.0, 228.0, 234.0, 240.0, 246.0, 252.0, 258.0, 264.0, 270.0, 276.0, 282.0, 288.0, 294.0, 300.0, 306.0, 312.0, 318.0, 324.0, 330.0, 336.0, 342.0, 348.0, 354.0, 360.0, 366.0, 372.0, 378.0, 384.0, 390.0, 396.0, 402.0, 408.0, 414.0]
    #流星之天剑
    流星之天剑 = [0, 3125.0, 3386.0, 3645.0, 3906.0, 4168.0, 4428.0, 4688.0, 4948.0, 5208.0, 5469.0, 5730.0, 5990.0, 6250.0, 6511.0, 6772.0, 7031.0, 7292.0, 7551.0, 7813.0, 8074.0, 8334.0, 8594.0, 8855.0, 9116.0, 9375.0, 9636.0, 9897.0, 10157.0, 10417.0, 10678.0, 10937.0, 11199.0, 11460.0, 11719.0, 11980.0, 12241.0, 6814.0, 6951.0, 7084.0, 7222.0, 7358.0, 7492.0, 7630.0, 7768.0, 7901.0, 8038.0, 8176.0, 8310.0, 8446.0, 8584.0, 8717.0, 8855.0, 8992.0, 9126.0, 9264.0, 9399.0, 9533.0, 9671.0, 9809.0, 9943.0, 10080.0, 10218.0, 10351.0, 10487.0, 10625.0, 10758.0, 10896.0, 11033.0, 11167.0, 11304.0]
    #巨剑流星之天剑追加
    巨剑流星之天剑 = [0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 19.0, 20.0, 21.0, 22.0, 23.0, 24.0, 25.0, 26.0, 27.0, 28.0, 29.0, 30.0, 31.0, 32.0, 33.0, 34.0, 35.0, 36.0, 37.0, 38.0, 39.0, 40.0, 41.0, 42.0, 43.0, 44.0, 45.0, 46.0, 47.0, 48.0, 49.0, 50.0, 51.0, 52.0, 53.0, 54.0, 55.0, 56.0, 57.0, 58.0, 59.0, 60.0, 61.0, 62.0, 63.0, 64.0, 65.0, 66.0, 67.0, 68.0, 69.0, 70.0, 71.0, 72.0, 73.0, 74.0, 75.0, 76.0, 77.0, 78.0, 79.0, 80.0]
    #钝器冲击波
    钝器流星之天剑 = [0, 1936.0, 2100.0, 2263.0, 2424.0, 2589.0, 2752.0, 2916.0, 3080.0, 3241.0, 3406.0, 3569.0, 3733.0, 3896.0, 4058.0, 4222.0, 4385.0, 4548.0, 4712.0, 4874.0, 5038.0, 5202.0, 5365.0, 5529.0, 5691.0, 5855.0, 6018.0, 6181.0, 6345.0, 6507.0, 6670.0, 6834.0, 6999.0, 7163.0, 7324.0, 7488.0, 7652.0, 7815.0, 7979.0, 8141.0, 8304.0, 8468.0, 8631.0, 8796.0, 8957.0, 9121.0, 9285.0, 9448.0, 9611.0, 9774.0, 9937.0, 10100.0, 10264.0, 10427.0, 10590.0, 10753.0, 10917.0, 11081.0, 11244.0, 11407.0, 11570.0, 11733.0, 11897.0, 12060.0, 12222.0, 12386.0, 12549.0, 12715.0, 12878.0, 13040.0, 13204.0]
    #太刀刺伤
    刺伤几率 = [0, 64.0, 67.0, 70.0, 73.0, 76.0, 79.0, 82.0, 85.0, 88.0, 91.0, 94.0, 97.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
    可附加的刺伤数量 = [0, 4.0, 4.0, 4.0, 5.0, 5.0, 5.0, 6.0, 6.0, 6.0, 7.0, 7.0, 7.0, 8.0, 8.0, 8.0, 9.0, 9.0, 9.0, 10.0, 10.0, 10.0, 11.0, 11.0, 11.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0, 12.0]
    #光剑冲击波
    光剑流星之天剑 = [0, 1296.0, 1494.0, 1691.0, 1888.0, 2085.0, 2283.0, 2478.0, 2676.0, 2874.0, 3070.0, 3268.0, 3465.0, 3662.0, 3860.0, 4057.0, 4253.0, 4450.0, 4648.0, 4844.0, 5042.0, 5240.0, 5435.0, 5633.0, 5829.0, 6027.0, 6224.0, 6421.0, 6618.0, 6816.0, 7012.0, 7209.0, 7407.0, 7603.0, 7801.0, 7998.0, 8194.0, 8392.0, 8589.0, 8786.0, 8983.0, 9181.0, 9377.0, 9575.0, 9773.0, 9968.0, 10166.0, 10363.0, 10560.0, 10757.0, 10955.0, 11150.0, 11348.0, 11546.0, 11742.0, 11940.0, 12136.0, 12334.0, 12532.0, 12727.0, 12925.0, 13122.0, 13319.0, 13516.0, 13714.0, 13909.0, 14107.0, 14305.0, 14501.0, 14699.0, 14896.0]
    
    def 天剑刺伤层数(self):
        return self.刺伤几率[self.等级] / 100 * self.可附加的刺伤数量[self.等级]

    def 附加倍率(self, 技能):
        if 技能 == '破军升龙击':
            return 0.40 + self.暴风式冲击波[self.等级] / 100
        elif 技能 == '猛龙断空斩':
            return 0.21 + self.飓风[self.等级] / 1000
        elif 技能 == '幻影剑舞斩击':
            return 0.50 + self.幻影斩击[self.等级] / 100
        elif 技能 == '幻影剑舞剑气':
            return 0.50 + self.幻影剑气[self.等级] / 100
        elif 技能 == '幻影剑舞钝器':
            return 0.41 + self.幻影钝器[self.等级] / 100
        elif 技能 == '极神剑术破空斩':
            return 0.60 + self.十字斩[self.等级] / 100

    自定义描述 = 1
    def 技能描述(self, 武器类型):
        temp = '常规技能攻击力 +%.1f%%' % (22 + 2 * self.等级) + '<br>'
        temp += '[破军升龙击]上斩：%.1f%%' % (self.附加倍率('破军升龙击') * 100) + '<br>'
        temp += '[猛龙断空斩]突进斩击：%.1f%%' % (self.附加倍率('猛龙断空斩') * 100) + '<br>'
        temp += '[幻影剑舞]斩击：%.1f%%' % (self.附加倍率('幻影剑舞斩击') * 100)+ '<br>'
        if 武器类型 == '钝器':
            temp += '[幻影剑舞]钝器最后一击：%.1f%%' % (self.附加倍率('幻影剑舞钝器') * 100) + '<br>'
        else:
            temp += '[幻影剑舞]剑气：%.1f%%' % (self.附加倍率('幻影剑舞剑气') * 100) + '<br>'
        temp += '[极 · 神剑术 (破空斩)]爆炸：%.1f%%' % (self.附加倍率('极神剑术破空斩') * 100)+ '<br>'
        temp += '流星之天剑攻击力：%.1f%%' % self.流星之天剑[self.等级]
        return temp   

class 极诣·剑魂技能26(被动技能):
    名称 = '无形剑意'
    所在等级 = 95
    等级上限 = 40
    基础等级 = 4

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.18 + 0.02 * self.等级, 5)

    短剑流心刺 = [0, 30.0, 33.0, 36.0, 39.0, 42.0, 45.0, 48.0, 51.0, 54.0, 57.0, 60.0, 63.0, 66.0, 69.0, 72.0, 75.0, 78.0, 81.0, 84.0, 87.0, 90.0, 93.0, 96.0, 99.0, 102.0, 105.0, 108.0, 111.0, 114.0, 117.0, 120.0, 123.0, 126.0, 129.0, 132.0, 135.0, 138.0, 141.0, 144.0, 147.0]
    短剑流心刺空中 = [0, 13.0, 15.0, 16.0, 17.0, 19.0, 20.0, 21.0, 23.0, 24.0, 25.0, 27.0, 28.0, 29.0, 31.0, 32.0, 33.0, 35.0, 36.0, 37.0, 39.0, 40.0, 41.0, 43.0, 44.0, 45.0, 47.0, 48.0, 49.0, 51.0, 52.0, 53.0, 55.0, 56.0, 57.0, 59.0, 60.0, 61.0, 63.0, 64.0, 65.0]
    太刀流心跃 = [0, 4.0, 4.0, 5.0, 5.0, 6.0, 6.0, 6.0, 7.0, 7.0, 8.0, 8.0, 8.0, 9.0, 9.0, 10.0, 10.0, 10.0, 11.0, 11.0, 12.0, 12.0, 12.0, 13.0, 13.0, 14.0, 14.0, 14.0, 15.0, 15.0, 16.0, 16.0, 16.0, 17.0, 17.0, 18.0, 18.0, 18.0, 19.0, 19.0, 20.0]
    太刀流心升 = [0, 12.0, 13.0, 14.0, 16.0, 17.0, 18.0, 19.0, 20.0, 22.0, 23.0, 24.0, 25.0, 26.0, 28.0, 29.0, 30.0, 31.0, 32.0, 34.0, 35.0, 36.0, 37.0, 38.0, 40.0, 41.0, 42.0, 43.0, 44.0, 46.0, 47.0, 48.0, 49.0, 50.0, 52.0, 53.0, 54.0, 55.0, 56.0, 58.0, 59.0]
    钝器流心刺 = [0, 50.0, 55.0, 60.0, 65.0, 70.0, 75.0, 80.0, 85.0, 90.0, 95.0, 100.0, 105.0, 110.0, 115.0, 120.0, 125.0, 130.0, 135.0, 140.0, 145.0, 150.0, 155.0, 160.0, 165.0, 170.0, 175.0, 180.0, 185.0, 190.0, 195.0, 200.0, 205.0, 210.0, 215.0, 220.0, 225.0, 230.0, 235.0, 240.0, 245.0]
    巨剑流心刺下斩 = [0, 110.0, 111.0, 112.0, 113.0, 114.0, 115.0, 116.0, 117.0, 118.0, 119.0, 120.0, 121.0, 122.0, 123.0, 124.0, 125.0, 126.0, 127.0, 128.0, 129.0, 130.0, 131.0, 132.0, 133.0, 134.0, 135.0, 136.0, 137.0, 138.0, 139.0, 140.0, 141.0, 142.0, 143.0, 144.0, 145.0, 146.0, 147.0, 148.0, 149.0]
    巨剑流心刺旋风 = [0, 9.0, 11.0, 13.0, 15.0, 17.0, 19.0, 21.0, 23.0, 25.0, 27.0, 29.0, 31.0, 33.0, 35.0, 37.0, 39.0, 41.0, 43.0, 45.0, 47.0, 49.0, 51.0, 53.0, 55.0, 57.0, 59.0, 61.0, 63.0, 65.0, 67.0, 69.0, 71.0, 73.0, 75.0, 77.0, 79.0, 81.0, 83.0, 85.0, 87.0]
    巨剑流心刺空中 = [0, 240.0, 244.0, 248.0, 252.0, 256.0, 260.0, 264.0, 268.0, 272.0, 276.0, 280.0, 284.0, 288.0, 292.0, 296.0, 300.0, 304.0, 308.0, 312.0, 316.0, 320.0, 324.0, 328.0, 332.0, 336.0, 340.0, 344.0, 348.0, 352.0, 356.0, 360.0, 364.0, 368.0, 372.0, 376.0, 380.0, 384.0, 388.0, 392.0, 396.0]
    光剑流心升 = [0, 48.0, 53.0, 58.0, 62.0, 67.0, 72.0, 77.0, 82.0, 86.0, 91.0, 96.0, 101.0, 106.0, 110.0, 115.0, 120.0, 125.0, 130.0, 134.0, 139.0, 144.0, 149.0, 154.0, 158.0, 163.0, 168.0, 173.0, 178.0, 182.0, 187.0, 192.0, 197.0, 202.0, 206.0, 211.0, 216.0, 221.0, 226.0, 230.0, 235.0]
    
    自定义描述 = 1
    def 技能描述(self, 武器类型):
        temp = '常规技能攻击力 +%.1f%%' % (18 + 2 * self.等级) + '<br>'
        if 武器类型 == '短剑':
            temp += '短剑流心刺：%.1f%%' % self.短剑流心刺[self.等级] + '<br>'
            temp += '短剑流心刺空中：%.1f%%' % self.短剑流心刺空中[self.等级] + ' x 3'
        elif 武器类型 == '太刀':
            temp += '太刀流心跃：%.1f%%' % self.太刀流心跃[self.等级] + ' x 5<br>'
            temp += '太刀流心升：%.1f%%' % self.太刀流心升[self.等级] + ' x 4'
        elif 武器类型 == '钝器':
            temp += '钝器流心刺：%.1f%%' % self.钝器流心刺[self.等级]
        elif 武器类型 == '巨剑':
            temp += '巨剑流心刺下斩：%.1f%%' % self.巨剑流心刺下斩[self.等级] + '<br>'
            temp += '巨剑流心刺旋风：%.1f%%' % self.巨剑流心刺旋风[self.等级] + ' x 3<br>'
            temp += '巨剑流心刺空中：%.1f%%' % self.巨剑流心刺空中[self.等级]
        elif 武器类型 == '光剑':
            temp += '光剑流心升：%.1f%%' % self.光剑流心升[self.等级]
        return temp   

class 极诣·剑魂技能27(被动技能):
    名称 = '短剑精通'
    所在等级 = 15
    等级上限 = 2
    基础等级 = 1
    关联技能 = ['所有']
    #物理攻击力增加
    data1 = [0, 127, 142, 158, 173, 188, 203, 218, 233, 248, 263, 278, 293, 308, 323, 338, 353, 368, 383, 398, 413, 428, 443, 463, 483, 503, 523, 543, 563, 583, 603, 623, 643, 663, 683, 703, 723, 743, 763, 783, 803, 823, 843, 863, 883, 903, 923, 943, 963, 983, 1003, 1023, 1043, 1063, 1083, 1103, 1123, 1143, 1163, 1183, 1203, 1223, 1243, 1263, 1283, 1303, 1323, 1343, 1363, 1383, 1403]
    #魔法攻击力增加
    data2 = [0, 12, 26, 39, 51, 64, 77, 90, 103, 116, 129, 141, 154, 167, 180, 193, 206, 219, 231, 244, 257, 270, 283, 296, 309, 321, 334, 347, 360, 373, 386, 399, 411, 424, 437, 450, 463, 476, 489, 501, 514, 527, 540, 553, 566, 579, 591, 604, 617, 630, 643, 656, 669, 681, 694, 707, 720, 733, 746, 759, 771, 784, 797, 810, 823, 836, 849, 861, 874, 887, 900]
    #[里 · 鬼剑术]剑气攻击力
    data3 = [0, 386, 399, 410, 422, 433, 443, 456, 466, 479, 489, 499, 512, 522, 536, 545, 555, 569, 579, 592, 602, 612, 625, 635, 648, 658, 669, 681, 692, 705, 715, 726, 738, 749, 761, 772, 782, 795, 805, 818, 828, 840, 852, 862, 875, 885, 897, 908, 920, 931, 942, 953, 965, 977, 988, 999, 1010, 1022, 1033, 1045, 1056, 1067, 1077, 1088, 1098, 1109, 1119, 1130, 1140, 1151, 1161]
    
    def 加成倍率(self, 武器类型):
        if 武器类型 != '短剑':
            return 1.0
        else:
            return round(self.data1[self.等级] / 1000 + 1, 3)

    def 物理攻击力倍率(self, 武器类型):
        return self.加成倍率(武器类型)

    def 魔法攻击力倍率(self, 武器类型):
        if 武器类型 != '短剑':
            return 1.0
        else:
            return round(self.data2[self.等级] / 1000 + 1, 3)

    #[里 · 鬼剑术]剑气攻击力 一轮3段
    def 里鬼附加百分比(self, 武器类型):
        if 武器类型 != '短剑':
            return 0
        else:
            return self.data3[self.等级] * 3

class 极诣·剑魂技能28(被动技能):
    名称 = '太刀精通'
    所在等级 = 15
    等级上限 = 2
    基础等级 = 1
    关联技能 = ['所有']
    #物理攻击力增加
    data1 = [0, 52, 67, 82, 97, 112, 127, 142, 157, 172, 187, 202, 217, 232, 247, 262, 277, 292, 307, 322, 337, 352, 367, 387, 407, 427, 447, 467, 487, 507, 527, 547, 567, 587, 607, 627, 647, 667, 687, 707, 727, 747, 767, 787, 807, 827, 847, 867, 887, 907, 927, 947, 967, 987, 1007, 1027, 1047, 1067, 1087, 1107, 1127, 1147, 1167, 1187, 1207, 1227, 1247, 1267, 1287, 1307, 1327]
    #魔法攻击力增加
    data2 = [0, 13, 28, 41, 54, 68, 82, 96, 109, 123, 137, 150, 164, 177, 191, 205, 219, 233, 245, 259, 273, 287, 301, 314, 328, 341, 355, 369, 382, 396, 410, 424, 437, 450, 464, 478, 492, 506, 520, 532, 546, 560, 574, 588, 601, 615, 628, 642, 656, 669, 683, 697, 711, 724, 737, 751, 765, 779, 793, 806, 819, 833, 847, 861, 874, 888, 902, 915, 929, 942, 956]
    #刺伤几率
    data3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 37, 38, 38, 39, 39, 40, 40, 41, 41, 42, 42, 43, 43, 44, 44, 45, 45, 46, 46, 47, 47, 48, 48, 49, 49, 50, 50, 51, 51, 52, 52, 53, 53, 54, 54, 55, 55, 56, 56, 57, 57, 58, 58, 59, 59, 60, 60, 61, 61, 62, 62, 63, 63, 64, 64, 65, 65, 66, 66, 67, 67]
    #刺伤爆炸伤害(下限)
    data4 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1070, 1223, 1371, 1524, 1672, 1825, 1977, 2130, 2277, 2431, 2582, 2735, 2887, 3036, 3188, 3337, 3491, 3642, 3793, 3942, 4097, 4247, 4402, 4548, 4702, 4849, 5003, 5156, 5308, 5458, 5609, 5759, 5914, 6063, 6218, 6367, 6522, 6675, 6825, 6980, 7130, 7285, 7438, 7591, 7745, 7896, 8050, 8199, 8355, 8504, 8657, 8813, 8962, 9117, 9270, 9423, 9574, 9728, 9879, 10032, 10187]
    #刺伤爆炸伤害(上限)
    data5 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7431, 8481, 9532, 10583, 11633, 12684, 13736, 14785, 15837, 16888, 17938, 18989, 20039, 21090, 22141, 23191, 24242, 25294, 26343, 27395, 28446, 29496, 30547, 31595, 32647, 33697, 34748, 35799, 36849, 37900, 38951, 40001, 41052, 42104, 43153, 44205, 45255, 46306, 47357, 48407, 49458, 50509, 51559, 52610, 53662, 54711, 55763, 56814, 57862, 58912, 59963, 61015, 62065, 63116, 64167, 65217, 66268, 67319, 68369, 69420, 70472]
    #刺伤持续伤害
    data6 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 10, 12, 12, 12, 13, 13, 13, 13, 13, 14, 14, 15, 15, 17, 17, 17, 18, 18, 18, 18, 18, 19, 19, 21, 21, 21, 22, 22, 23, 23, 23, 23, 23, 24, 24, 26, 26, 27, 27, 28, 28, 29, 29, 30, 30, 31, 31, 32, 32, 33, 33]
    #[空中连斩]附加攻击力
    data7 = [0, 66, 70, 74, 78, 80, 85, 88, 93, 96, 99, 103, 106, 110, 114, 118, 121, 125, 128, 131, 135, 139, 143, 146, 150, 154, 156, 161, 165, 168, 171, 176, 179, 183, 188, 190, 194, 196, 200, 205, 209, 213, 259, 263, 268, 271, 276, 280, 285, 289, 294, 299, 303, 306, 311, 316, 320, 324, 329, 333, 338, 343, 348, 353, 358, 363, 368, 373, 378, 383, 388]

    def 加成倍率(self, 武器类型):
        if 武器类型 != '太刀':
            return 1.0
        else:
            return round(self.data1[self.等级] / 1000 + 1, 3)

    def 物理攻击力倍率(self, 武器类型):
        return self.加成倍率(武器类型)

    def 魔法攻击力倍率(self, 武器类型):
        if 武器类型 != '太刀':
            return 1.0
        else:
            return round(self.data2[self.等级] / 1000 + 1, 3)

    def 刺伤概率(self, 武器类型):
        if 武器类型 != '太刀':
            return 0
        else:
            return self.data3[self.等级] / 100

    #17层结算一次
    刺伤层数 = 0
    刺伤浮动 = 1
    def 刺伤百分比(self, 武器类型):
        if 武器类型 != '太刀':
            return 0
        else:
            return self.刺伤浮动 * self.刺伤层数 / 17 * self.data5[self.等级]

    #[空中连斩]附加攻击力
    def 太刀附加(self, 武器类型):
        if 武器类型 != '太刀':
            return 0
        else:
            return self.data7[self.等级]

class 极诣·剑魂技能29(被动技能):
    名称 = '巨剑精通'
    所在等级 = 15
    等级上限 = 2
    基础等级 = 1
    关联技能 = ['所有']

    #物理攻击力增加
    data1 = [0, 69, 84, 99, 114, 129, 144, 159, 174, 189, 204, 219, 234, 249, 264, 279, 294, 309, 324, 339, 354, 369, 384, 404, 424, 444, 464, 484, 504, 524, 544, 564, 584, 604, 624, 644, 664, 684, 704, 724, 744, 764, 784, 804, 824, 844, 864, 884, 904, 924, 944, 964, 984, 1004, 1024, 1044, 1064, 1084, 1104, 1124, 1144, 1164, 1184, 1204, 1224, 1244, 1264, 1284, 1304, 1324, 1344]
    #魔法攻击力增加
    data2 = [0, 14, 31, 46, 60, 75, 90, 106, 121, 136, 151, 165, 181, 196, 211, 226, 242, 257, 271, 286, 302, 317, 332, 347, 363, 377, 392, 407, 422, 438, 453, 468, 482, 498, 513, 528, 543, 559, 574, 588, 603, 618, 634, 649, 664, 679, 693, 709, 724, 739, 754, 770, 785, 799, 814, 830, 845, 860, 875, 891, 905, 920, 935, 950, 966, 981, 996, 1010, 1026, 1041, 1056]
    #[里 · 鬼剑术]额外附加
    data3 = [0, 238, 300, 362, 424, 487, 549, 611, 673, 735, 798, 860, 922, 984, 1047, 1109, 1171, 1233, 1295, 1358, 1420, 1482, 1544, 1607, 1668, 1730, 1792, 1854, 1917, 1979, 2041, 2103, 2166, 2228, 2290, 2352, 2414, 2477, 2539, 2601, 2663, 2726, 2788, 2850, 2912, 2975, 3037, 3099, 3161, 3222, 3285, 3347, 3409, 3471, 3534, 3596, 3658, 3720, 3782, 3845, 3907, 3969, 4031, 4094, 4156, 4218, 4280, 4342, 4405, 4467, 4529]
    
    def 加成倍率(self, 武器类型):
        if 武器类型 != '巨剑':
            return 1.0
        else:
            return round(self.data1[self.等级] / 1000 + 1, 3)

    def 物理攻击力倍率(self, 武器类型):
        return self.加成倍率(武器类型)

    def 魔法攻击力倍率(self, 武器类型):
        if 武器类型 != '巨剑':
            return 1.0
        else:
            return round(self.data2[self.等级] / 1000 + 1, 3)

    def 里鬼附加百分比(self, 武器类型):
        if 武器类型 != '巨剑':
            return 0
        else:
            return self.data3[self.等级]

class 极诣·剑魂技能30(被动技能):
    名称 = '钝器精通'
    所在等级 = 15
    等级上限 = 2
    基础等级 = 1
    关联技能 = ['所有']
    #物理攻击力增加
    data1 = [0, 73, 88, 103, 118, 133, 148, 163, 178, 193, 208, 223, 238, 253, 268, 283, 298, 313, 328, 343, 358, 373, 388, 408, 428, 448, 468, 488, 508, 528, 548, 568, 588, 608, 628, 648, 668, 688, 708, 728, 748, 768, 788, 808, 828, 848, 868, 888, 908, 928, 948, 968, 988, 1008, 1028, 1048, 1068, 1088, 1108, 1128, 1148, 1168, 1188, 1208, 1228, 1248, 1268, 1288, 1308, 1328, 1348]
    #魔法攻击力增加
    data2 = [0, 14, 29, 44, 58, 73, 87, 102, 117, 132, 146, 160, 175, 189, 204, 219, 234, 248, 262, 277, 291, 306, 321, 336, 350, 364, 379, 393, 408, 423, 438, 452, 466, 481, 496, 510, 525, 540, 554, 568, 583, 598, 612, 627, 642, 657, 670, 685, 700, 714, 729, 744, 759, 772, 787, 802, 816, 831, 846, 861, 874, 889, 904, 918, 933, 948, 963, 976, 991, 1006, 1021]
    
    def 加成倍率(self, 武器类型):
        if 武器类型 != '钝器':
            return 1.0
        else:
            return round(self.data1[self.等级] / 1000 + 1, 3)

    def 物理攻击力倍率(self, 武器类型):
        return self.加成倍率(武器类型)

    def 魔法攻击力倍率(self, 武器类型):
        if 武器类型 != '钝器':
            return 1.0
        else:
            return round(self.data2[self.等级] / 1000 + 1, 3)

class 极诣·剑魂技能31(被动技能):
    名称 = '光剑精通'
    所在等级 = 15
    等级上限 = 1
    基础等级 = 1
    关联技能 = ['所有']
    #物理攻击力增加
    data1 = [0, 95.0, 110.0, 125.0, 140.0, 155.0, 170.0, 185.0, 200.0, 215.0, 230.0, 245.0, 260.0, 275.0, 290.0, 305.0, 320.0, 335.0, 350.0, 365.0, 380.0, 395.0, 410.0, 430.0, 450.0, 470.0, 490.0, 510.0, 530.0, 550.0, 570.0, 590.0, 610.0, 630.0, 650.0, 670.0, 690.0, 710.0, 730.0, 750.0, 770.0, 790.0, 810.0, 830.0, 850.0, 870.0, 890.0, 910.0, 930.0, 950.0, 970.0, 990.0, 1010.0, 1030.0, 1050.0, 1070.0, 1090.0, 1110.0, 1130.0, 1150.0, 1170.0, 1190.0, 1210.0, 1230.0, 1250.0, 1270.0, 1290.0, 1310.0, 1330.0, 1350.0, 1370.0]
    #魔法攻击力增加
    data2 = [0, 25.0, 38.0, 50.0, 63.0, 76.0, 88.0, 101.0, 113.0, 126.0, 139.0, 151.0, 164.0, 176.0, 189.0, 202.0, 214.0, 227.0, 239.0, 252.0, 265.0, 277.0, 290.0, 302.0, 315.0, 328.0, 340.0, 353.0, 365.0, 378.0, 391.0, 403.0, 416.0, 428.0, 441.0, 454.0, 466.0, 479.0, 491.0, 504.0, 517.0, 529.0, 542.0, 554.0, 567.0, 580.0, 592.0, 605.0, 617.0, 630.0, 630.0, 785.0, 800.0, 815.0, 831.0, 845.0, 860.0, 876.0, 890.0, 906.0, 921.0, 936.0, 951.0, 966.0, 981.0, 996.0, 1011.0, 1027.0, 1042.0, 1056.0, 1072.0]

    def 加成倍率(self, 武器类型):
        if 武器类型 != '光剑':
            return 1.0
        else:
            return round(self.data1[self.等级] / 1000 + 1, 3)

    def 物理攻击力倍率(self, 武器类型):
        return self.加成倍率(武器类型)

    def 魔法攻击力倍率(self, 武器类型):
        if 武器类型 != '光剑':
            return 1.0
        else:
            return round(self.data2[self.等级] / 1000 + 1, 3)

class 极诣·剑魂技能32(极诣·剑魂主动技能):
    hit数 = 2
    名称 = '空中连斩'
    备注 = '(一刀，TP为基础精通)'
    所在等级 = 5
    等级上限 = 11
    基础等级 = 1
    CD = 1.0
    TP成长 = 0.1
    TP上限 = 3
    数据 = [0, 180, 193, 204, 216, 228, 240, 253, 264, 276, 288, 300, 313, 324, 336, 348, 360, 373, 384, 396, 408, 420, 433, 444, 456, 468, 480, 493, 504, 516, 528, 540, 553, 564, 576, 588, 600, 613, 624, 636, 648, 660, 673, 684, 696, 708, 720, 733, 744, 756, 768, 780, 793, 804, 816, 828, 840, 853, 864, 876, 888, 900, 913, 924, 936, 948, 960, 973, 984, 996, 1008]
    
    太刀附加 = 0
    def 等效百分比(self, 武器类型):
        if 武器类型 != '太刀':
            return self.数据[self.等级] * (1 + self.TP成长 * self.TP等级) * self.倍率
        else:
            return (self.数据[self.等级] - 100 + self.太刀附加) * (1 + self.TP成长 * self.TP等级) * self.倍率 * 2 * 1.5

    def 穿云刺数量(self, 武器类型):
        return 1

class 极诣·剑魂技能33(被动技能):
    名称 = '神影手'
    所在等级 = 70
    等级上限 = 1
    基础等级 = 1
    关联技能 = ['无']
    百分比 = 3760

极诣·剑魂技能列表 = []
i = 0
while i >= 0:
    try:
        exec('极诣·剑魂技能列表.append(极诣·剑魂技能'+str(i)+'())')
        i += 1
    except:
        i = -1

极诣·剑魂技能序号 = dict()
for i in range(len(极诣·剑魂技能列表)):
    极诣·剑魂技能序号[极诣·剑魂技能列表[i].名称] = i

极诣·剑魂一觉序号 = 0
极诣·剑魂二觉序号 = 21
极诣·剑魂三觉序号 = 0
for i in 极诣·剑魂技能列表:
    if i.所在等级 == 50:
        极诣·剑魂一觉序号 = 极诣·剑魂技能序号[i.名称]
    if i.所在等级 == 100:
        极诣·剑魂三觉序号 = 极诣·剑魂技能序号[i.名称]

极诣·剑魂护石选项 = ['无']
for i in 极诣·剑魂技能列表:
    if i.是否有伤害 == 1 and i.是否有护石 == 1:
        极诣·剑魂护石选项.append(i.名称)

极诣·剑魂符文选项 = ['无']
for i in 极诣·剑魂技能列表:
    if i.所在等级 >= 20 and i.所在等级 <= 80 and i.所在等级 != 50 and i.是否有伤害 == 1:
        极诣·剑魂符文选项.append(i.名称)

class 极诣·剑魂角色属性(角色属性):

    实际名称 = '极诣·剑魂'
    角色 = '鬼剑士(男)'
    职业 = '剑魂'

    武器选项 = ['光剑','巨剑','钝器','太刀','短剑']
    
    伤害类型选择 = ['物理百分比']
    
    伤害类型 = '物理百分比'
    防具类型 = '轻甲'
    防具精通属性 = ['力量']
    武器类型 = '光剑'

    主BUFF = 1.82
   
    刀魂之卡赞 = 0

    流心刺状态 = 0
    流心跃状态 = 0
  
    def __init__(self):
        基础属性输入(self)
        self.技能栏= deepcopy(极诣·剑魂技能列表)
        self.技能序号= deepcopy(极诣·剑魂技能序号)

    def 技能等级加成(self, 加成类型, minLv, maxLv, lv):
        lv = int(lv)

        if self.刀魂之卡赞 > 0:
            if minLv <= 5 and maxLv >= 5:
                self.刀魂之卡赞 = min(20, self.刀魂之卡赞 + lv)

        for i in self.技能栏:
            if i.名称 not in ['太刀精通', '巨剑精通', '短剑精通', '钝器精通']:
                if i.所在等级 >= minLv and i.所在等级 <= maxLv:
                    if 加成类型 == '所有':
                        i.等级加成(lv)
                    else:
                        if i.是否主动 == 1:
                            i.等级加成(lv)

    def 被动倍率计算(self):

        if self.技能栏[self.技能序号['武器奥义']].等级 != 0:
            for i in ['太刀精通','短剑精通','巨剑精通','光剑精通','钝器精通']:
                if self.技能栏[self.技能序号[i]].等级 != 0:
                    self.技能栏[self.技能序号[i]].等级 += (self.技能栏[self.技能序号['武器奥义']].等级 + 1)
                if self.武器类型 not in i:
                    self.技能栏[self.技能序号[i]].关联技能 = ['无']

        super().被动倍率计算()

        self.技能栏[self.技能序号['万剑归宗(穿云刺)']].等级 = self.技能栏[self.技能序号['万剑归宗(终结)']].等级
        self.技能栏[self.技能序号['空中连斩']].太刀附加 = self.技能栏[self.技能序号['太刀精通']].太刀附加(self.武器类型)

        if self.流心跃状态 == 1:
            self.技能栏[self.技能序号['流心跃']].武器倍率['钝器'] = 1.2 #空中增伤20%

        if self.流心刺状态 == 1:
            self.技能栏[self.技能序号['流心刺']].武器倍率['短剑'] = 2 #空中2段

            self.技能栏[self.技能序号['流心刺']].武器倍率['太刀'] = 2 #空中2段
            self.技能栏[self.技能序号['流心刺']].hit数 = 2
            
            self.技能栏[self.技能序号['流心刺']].武器倍率['巨剑'] = 2 #空中1段，伤害为200%

            self.技能栏[self.技能序号['流心刺']].武器倍率['光剑'] = 2 #空中2段

        无形剑意 = self.技能栏[self.技能序号['无形剑意']]
        if 无形剑意.等级 != 0:
            基础倍率 = 无形剑意.加成倍率(self.武器类型)
            if self.武器类型 == '短剑':
                self.技能栏[self.技能序号['流心刺']].被动倍率 /= 基础倍率
                if self.流心刺状态 == 1:
                    self.技能栏[self.技能序号['流心刺']].被动倍率 *= 1 + 3 * (无形剑意.短剑流心刺空中[无形剑意.等级] / 100) / 2  #空中2段
                else:
                    self.技能栏[self.技能序号['流心刺']].被动倍率 *= 1 + 2 * (无形剑意.短剑流心刺[无形剑意.等级] / 100) / 3  #地面2 + 1段
    
            if self.武器类型 == '太刀':
                self.技能栏[self.技能序号['流心跃']].被动倍率 /= 基础倍率
                self.技能栏[self.技能序号['流心升']].被动倍率 /= 基础倍率
    
                self.技能栏[self.技能序号['流心跃']].hit数 +=5
                self.技能栏[self.技能序号['流心跃']].被动倍率 *= 1 + (无形剑意.太刀流心跃[无形剑意.等级] / 100) * 5 / (2 * 0.5)
                
                self.技能栏[self.技能序号['流心升']].hit数 +=4
                self.技能栏[self.技能序号['流心升']].被动倍率 *= 1 + 4 * (无形剑意.太刀流心升[无形剑意.等级] / 100) / (3 * 0.8)
    
            if self.武器类型 == '钝器':
                self.技能栏[self.技能序号['流心刺']].被动倍率 /= 基础倍率
                self.技能栏[self.技能序号['流心刺']].被动倍率 *= 1 + (无形剑意.钝器流心刺[无形剑意.等级] / 100) / (2 * 1.25)
    
            if self.武器类型 == '巨剑':
                self.技能栏[self.技能序号['流心刺']].被动倍率 /= 基础倍率

                if self.流心刺状态 == 1:
                    self.技能栏[self.技能序号['流心刺']].被动倍率 *= (无形剑意.巨剑流心刺空中[无形剑意.等级] / 100) / 2 #空中1段，伤害为200%
                else:
                    self.技能栏[self.技能序号['流心刺']].被动倍率 *= ((2 + 1) * (无形剑意.巨剑流心刺下斩[无形剑意.等级] / 100)  + (无形剑意.巨剑流心刺旋风[无形剑意.等级] / 100) * 3) / (2 + 1) 
                    #基础：地面2 + 1段  加成后：地面1段(200%伤害) + 下斩1段 + 旋风3段
    
            if self.武器类型 == '光剑':
                self.技能栏[self.技能序号['流心升']].被动倍率 /= 基础倍率
                self.技能栏[self.技能序号['流心升']].被动倍率 *= 1 + (无形剑意.光剑流心升[无形剑意.等级] / 100) / (3 * 0.8)

    def 数据计算(self, x = 0, y = -1):
        self.预处理()
        技能释放次数=[]
        技能单次伤害=[]
        技能总伤害=[]
    
        #技能单次伤害计算
        for i in self.技能栏:
            if i.是否有伤害==1 and self.技能切装[self.技能序号[i.名称]] != y:
                技能单次伤害.append(i.等效百分比(self.武器类型)*self.伤害指数*i.被动倍率)
            else:
                技能单次伤害.append(0)

        #技能释放次数计算
        for i in self.技能栏:
            if i.是否有伤害==1:
                if self.次数输入[self.技能序号[i.名称]] =='/CD':
                    技能释放次数.append(int(self.时间输入/i.等效CD(self.武器类型) + 1 +i.基础释放次数))
                elif self.次数输入[self.技能序号[i.名称]] != '0':
                    技能释放次数.append(int(self.次数输入[self.技能序号[i.名称]]))
                else:
                    技能释放次数.append(0)
            else:
                技能释放次数.append(0)

        #剑魂穿云刺数量计算
        if self.次数输入[self.技能序号['万剑归宗(穿云刺)']] == '/CD':
            穿云刺数量 = 0
            for i in self.技能栏:
                if i.是否主动 == 1:
                    if 技能释放次数[self.技能序号[i.名称]] <= 1:
                        穿云刺数量 += i.穿云刺数量(self.武器类型) * 技能释放次数[self.技能序号[i.名称]]
                    else:
                        穿云刺数量 += i.穿云刺数量(self.武器类型) * int(技能释放次数[self.技能序号[i.名称]] * 0.6)
            技能释放次数[self.技能序号['万剑归宗(穿云刺)']] = 穿云刺数量

        #单技能伤害合计
    
        for i in self.技能栏:
            if i.是否有伤害==1 and 技能释放次数[self.技能序号[i.名称]] != 0:
                技能总伤害.append(技能单次伤害[self.技能序号[i.名称]]*技能释放次数[self.技能序号[i.名称]]*(1+self.白兔子技能*0.20+self.年宠技能*0.10*self.宠物次数[self.技能序号[i.名称]]/技能释放次数[self.技能序号[i.名称]]+self.斗神之吼秘药*0.12))
            else:
                技能总伤害.append(0)

        #剑魂特殊效果
        
        #极神剑术
        if self.技能栏[self.技能序号['极神剑术']].等级 != 0:

            极神剑术序号 = self.技能序号['极神剑术']
            极神剑术 = self.技能栏[极神剑术序号]

            伤害整合 = 0
    
            技能释放次数[极神剑术序号] = 1
            
            a = self.技能序号['破军升龙击']
            b = self.技能栏[a]
            if 技能总伤害[a] != 0:
                temp = 技能总伤害[a] * b.极神剑术占比(self.武器类型) * 极神剑术.附加倍率('破军升龙击')

                伤害整合 += temp / (0.7 if self.装备检查('奔流不息之狂风') else 1.0)
                    
            a = self.技能序号['猛龙断空斩']
            b = self.技能栏[a]            
            if 技能总伤害[a] != 0:
                temp =  技能总伤害[a] * b.极神剑术占比(self.武器类型) * b.旋风攻击次数 * 极神剑术.附加倍率('猛龙断空斩')

                伤害整合 += temp / (0.7 if self.装备检查('奔流不息之伽蓝') else 1.0)
            
            a = self.技能序号['幻影剑舞']
            b = self.技能栏[a]   
            if 技能总伤害[a] != 0:
                temp = 技能总伤害[a] * b.极神剑术斩击占比(self.武器类型) * b.影子斩击次数 * 极神剑术.附加倍率('幻影剑舞斩击')
                if self.武器类型 != '钝器':
                    剑气次数 = (4 if self.武器类型 == '短剑' else 3)
                    temp += 技能总伤害[a] * b.极神剑术剑气占比(self.武器类型) * 剑气次数 * 极神剑术.附加倍率('幻影剑舞剑气')
                else:
                    temp += 技能总伤害[a] * b.极神剑术剑气占比(self.武器类型) * 4.2 * 极神剑术.附加倍率('幻影剑舞钝器')

                伤害整合 += temp / (0.7 if (self.装备检查('奔流不息之岁月') or self.装备检查('英明循环之生命')) else 1.0)

            a = self.技能序号['极神剑术破空斩']
            b = self.技能栏[a]                 
            if 技能总伤害[a] != 0:
                技能总伤害[a] += 技能总伤害[a] * b.极神剑术占比(self.武器类型) * 极神剑术.附加倍率('极神剑术破空斩')
                #该伤害统计在本体技能内
            
            a = self.技能序号['极神剑术流星落']
            b = self.技能栏[a]
            if 技能总伤害[a] != 0:
                倍率 = 技能总伤害[a] / b.等效百分比(self.武器类型)
                temp = 倍率 * 3 * 极神剑术.流星之天剑[极神剑术.等级] * b.流星之天剑倍率
                if self.武器类型 == '太刀':
                    b.hit数 += 3
                    b.流星之天剑刺伤层数 = 极神剑术.天剑刺伤层数()
                if self.武器类型 == '巨剑':
                    temp *= 1 + 极神剑术.巨剑流星之天剑[极神剑术.等级] / 100
                elif self.武器类型 == '钝器':
                    temp += 倍率 * 3 * 74 #极神剑术.钝器流星之天剑[极神剑术.等级]
                elif self.武器类型 == '光剑':
                    temp += 倍率 * 3 * 74 #极神剑术.光剑流星之天剑[极神剑术.等级]
                #已知BUG,钝器光剑追加的额外天剑伤害极低,约只有74%
                
                伤害整合 += temp / (1.2 if ('永恒不息之路[2]' in self.套装栏) else 1.0)
        
            技能总伤害[极神剑术序号] += 伤害整合
        
        #其它伤害
        通用倍率 = 1.0

        for name in ['光剑精通', '短剑精通', '巨剑精通', '太刀精通', '钝器精通', '无我剑气', '极鬼剑术斩铁式', '极鬼剑术斩钢式', '无形剑意']:
            通用倍率 *= self.技能栏[self.技能序号[name]].加成倍率(self.武器类型)

        通用倍率 *= 1 + self.白兔子技能 * 0.20 + self.斗神之吼秘药 * 0.12 #默认无宠物
        
        #里鬼附加伤害
        a = self.技能序号['里鬼剑术']
        b = self.技能栏[a]
        if 技能总伤害[a] != 0:
            倍率 = 技能总伤害[self.技能序号['里鬼剑术']] / b.等效百分比(self.武器类型) / b.被动倍率
            if self.武器类型 == '巨剑':
                技能释放次数[self.技能序号['巨剑精通']] = 1
                技能总伤害[self.技能序号['巨剑精通']] += self.技能栏[self.技能序号['巨剑精通']].里鬼附加百分比(self.武器类型) * 通用倍率 * 倍率
            elif self.武器类型 == '短剑':
                技能释放次数[self.技能序号['短剑精通']] = 1
                技能总伤害[self.技能序号['短剑精通']] += self.技能栏[self.技能序号['短剑精通']].里鬼附加百分比(self.武器类型) * 通用倍率 * 倍率
        
        #太刀刺伤
        if self.武器类型 == '太刀':

            总hit = 0

            a = self.技能序号['太刀精通']
            b = self.技能栏[a]

            for i in self.技能栏:
                if i.是否主动 == 1:
                    释放次数 = 技能释放次数[self.技能序号[i.名称]]
                    总hit += i.hit数 * 释放次数
                    b.刺伤层数 += i.额外刺伤层数(self.武器类型) * 释放次数

            b.刺伤层数 += 总hit * b.刺伤概率(self.武器类型)

            技能释放次数[a] = 1
            技能总伤害[a] = b.刺伤百分比(self.武器类型) * 通用倍率 * self.伤害指数
        
        #神影手
        if self.技能栏[self.技能序号['拔刀斩']].触发神影手 == 1 and 技能总伤害[self.技能序号['拔刀斩']] != 0:

            技能释放次数[self.技能序号['神影手']] = 技能释放次数[self.技能序号['拔刀斩']]

            神影手倍率 = 1.0

            for name in ['光剑精通', '短剑精通', '巨剑精通', '太刀精通', '钝器精通']:
                神影手倍率 *= self.技能栏[self.技能序号[name]].加成倍率(self.武器类型)

            比例 = self.技能栏[self.技能序号['神影手']].百分比 * self.伤害指数 * 神影手倍率 /self.主BUFF / 技能单次伤害[self.技能序号['拔刀斩']]
            
            技能总伤害[self.技能序号['神影手']] = 比例 * 技能总伤害[self.技能序号['拔刀斩']]
            
        总伤害=0
        for i in self.技能栏:
            总伤害+=技能总伤害[self.技能序号[i.名称]]
        
        if x==0:
            return 总伤害
    
        if x==1:
            详细数据=[]
            for i in range(0,len(self.技能栏)):
                详细数据.append(技能释放次数[i])
                详细数据.append(技能总伤害[i])
                if 技能释放次数[i]!=0:
                    详细数据.append(技能总伤害[i]/技能释放次数[i])
                else:
                    详细数据.append(0)
                if 总伤害!=0:
                    详细数据.append(技能总伤害[i]/总伤害*100)
                else:
                    详细数据.append(0)
            return 详细数据

class 极诣·剑魂(角色窗口):
    def 窗口属性输入(self):
        self.初始属性 = 极诣·剑魂角色属性()
        self.角色属性A = 极诣·剑魂角色属性()
        self.角色属性B = 极诣·剑魂角色属性()
        self.一觉序号 = 极诣·剑魂一觉序号
        self.二觉序号 = 极诣·剑魂二觉序号
        self.三觉序号 = 极诣·剑魂三觉序号
        self.护石选项 = deepcopy(极诣·剑魂护石选项)
        self.符文选项 = deepcopy(极诣·剑魂符文选项)


    def 界面(self):
        super().界面()

        self.流心刺状态=QCheckBox('空中释放流心刺',self.main_frame2)
        self.流心刺状态.resize(120,20)
        self.流心刺状态.move(325,595)
        self.流心刺状态.setStyleSheet(复选框样式)
        self.流心刺状态.setToolTip('除钝器外其它武器生效')

        self.流心跃状态=QCheckBox('空中释放流心跃',self.main_frame2)
        self.流心跃状态.resize(120,20)
        self.流心跃状态.move(325,625)
        self.流心跃状态.setStyleSheet(复选框样式)
        self.流心跃状态.setToolTip('仅钝器生效')

        self.太刀刺伤浮动=MyQComboBox(self.main_frame2)
        for i in range(100,136):
            self.太刀刺伤浮动.addItem('太刀刺伤浮动:' + str(i) + '%')
        self.太刀刺伤浮动.resize(135,20)
        self.太刀刺伤浮动.move(150,620)
        self.太刀刺伤浮动.setToolTip('默认刺伤为期望值')

    def 输入属性(self, 属性, x = 0):
        super().输入属性(属性, x)
        if self.流心刺状态.isChecked():
            属性.流心刺状态 = 1
        if self.流心跃状态.isChecked():
            属性.流心跃状态 = 1
        属性.技能栏[属性.技能序号['太刀精通']].刺伤浮动 = 1 + self.太刀刺伤浮动.currentIndex() * 0.01

